{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/main.js","src/synth.js","src/synth_components/adsr.js","src/synth_components/filter.js","src/synth_components/oscillator.js","src/ui_components/UI.js","src/ui_components/adsr.js","src/ui_components/base.js","src/ui_components/dragInput.js","src/ui_components/filter.js","src/ui_components/knob.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\r\n\r\nimport Synth from './synth.js';\r\n\r\n// Instantiate the Synth\r\n// And link the audio context container\r\nconst synth = new Synth(new ( window.AudioContext || window.webkitAudioContext )());\r\nsynth.setupUI();\r\n\r\n/*\r\n    Getting the note frequencies:\r\n\r\n    The base for calculating the frequencies is 440 Hz, this is a A4- the first\r\n    A note above middle C (C4).\r\n\r\n    All note frequencies are calculated from this point on with the following calculation:\r\n    The base frequency TIMES the twelfth root of two TO THE POWER OF the amount of half steps from A4.\r\n    In short: 440 * (2^(1/12))^h. Where h is the half steps away from A4 (which will be negative if \r\n    we travel to the left on the keyboard).\r\n */\r\nconst ul = document.getElementById(\"keyboard\");\r\nconst items = ul.getElementsByTagName(\"li\");\r\n\r\n// When the user presses down on a keyboard list element\r\n// we will calculate the frequency of the note and play it\r\nfor (let i = 0; i < items.length; ++i) {\r\n    items[i].onmousedown = function(){\r\n        synth.setFrequency(parseInt(this.dataset.half));\r\n        synth.start();\r\n    }\r\n\r\n}\r\n\r\n// On Mouseup we will stop all oscillators, I'm putting this on document.body\r\n// instead of on the list elements because the user can hold down the key while\r\n// still moving the mouse, which messes it all up\r\ndocument.addEventListener('mouseup', function(){\r\n    synth.stop();\r\n});\r\n\r\n/*\r\n Shifting the keyboard to the left or right using the octave controls\r\n */\r\nlet octaveRange = 1; // The default state\r\ndocument.querySelector('[data-ctrl=\"octave-left\"]').addEventListener('click', function(){\r\n    if( !this.classList.contains('active')) {\r\n        document.querySelector('[data-ctrl=\"octave-right\"]').classList.remove('active');\r\n        octaveRange++;\r\n        if( octaveRange > 1 ) this.classList.add('active');\r\n        moveKeyboardOctave('down');\r\n    }\r\n});\r\ndocument.querySelector('[data-ctrl=\"octave-right\"]').addEventListener('click', function(){\r\n    if( !this.classList.contains('active')) {\r\n        document.querySelector('[data-ctrl=\"octave-left\"]').classList.remove('active');\r\n        octaveRange--;\r\n        if( octaveRange < 1 ) this.classList.add('active');\r\n        moveKeyboardOctave('up');\r\n    }\r\n});\r\nfunction moveKeyboardOctave( direction ){\r\n    let halfStep;\r\n    if( direction === 'up' ){\r\n        for (let i = 0; i < items.length; ++i) {\r\n            halfStep = parseInt(items[i].dataset.half) + 12;\r\n            items[i].dataset.half = half;\r\n        }\r\n    } else {\r\n        for (let i = 0; i < items.length; ++i) {\r\n            halfStep = parseInt(items[i].dataset.half) - 12;\r\n            items[i].dataset.half = half;\r\n        }\r\n    }\r\n}","import UI from \"./ui_components/UI.js\";\r\nimport Oscillator from \"./synth_components/oscillator\";\r\nimport ADSR from \"./synth_components/adsr\";\r\nimport Filter from \"./synth_components/filter\";\r\n\r\nclass Synth{\r\n    constructor(context){\r\n        this.context = context;\r\n        this.oscillators = [\r\n            new Oscillator(context),\r\n            new Oscillator(context),\r\n        ];\r\n        this.adsr = new ADSR(context);\r\n        this.filter = new Filter(context);\r\n    }\r\n\r\n    get Oscillators(){\r\n        return this.oscillators;\r\n    }\r\n\r\n    setFrequency(halfStep){\r\n        this.oscillators.forEach(function(osc){\r\n            osc.setFrequency(halfStep);\r\n        });\r\n    }\r\n\r\n    start(){\r\n        this.oscillators.forEach(function(osc){\r\n\r\n            let oscLevel = osc.getLevel();\r\n            osc.create();\r\n\r\n            let attack = (this.adsr.attack / 200);\r\n            let decay = (this.adsr.decay / 100);\r\n\r\n            for( let oscillator of osc.oscillators ){\r\n\r\n                // Starts at 0, ramps up to oscLevel over the time of the attackControl value\r\n                oscillator['gain'].gain.setValueAtTime(0.001, this.context.currentTime);\r\n\r\n                let sustain = this.adsr.getSustain();\r\n                sustain = (oscLevel * sustain) / osc.oscillators.length;\r\n                if ( sustain < 0.002 ) sustain = 0.001;\r\n\r\n                oscillator['gain'].gain.exponentialRampToValueAtTime(oscLevel, this.context.currentTime + attack);\r\n                oscillator['gain'].gain.exponentialRampToValueAtTime(sustain, (this.context.currentTime + attack) + decay);\r\n\r\n                // Set filter\r\n                oscillator['filter'].type = this.filter.type;\r\n                oscillator['filter'].frequency.value = (5000 * (this.filter.cutoffControl.percentage / 100));\r\n                \r\n            }\r\n\r\n        }.bind(this));\r\n\r\n        // Play the oscillators\r\n        this.oscillators.forEach(function(osc){\r\n            for( let oscillator of osc.oscillators ){\r\n                oscillator['osc'].start();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    stop(){\r\n        let release = (this.adsr.release / 200);\r\n\r\n        this.oscillators.forEach(function(osc){\r\n            osc.stop(this.context.currentTime + release, this.adsr.sustain);\r\n        }.bind(this));\r\n    }\r\n\r\n    setupUI(){\r\n        this.UI = new UI(this);\r\n    }\r\n}\r\n\r\nexport default Synth;","class ADSR{\r\n    constructor(context){\r\n        this.context = context;\r\n    }\r\n\r\n    setValues() {\r\n        this.attack = parseInt(this.attackControl.value);\r\n        this.decay = parseInt(this.decayControl.value);\r\n        this.sustain = parseInt(this.sustainControl.value);\r\n        this.release = parseInt(this.releaseControl.value);\r\n    }\r\n\r\n    getSustain(){\r\n        let sustainVal = ((this.sustain * 100) / 250) / 100;\r\n        if (sustainVal > 0){\r\n            if ( sustainVal > 1 ) return 1;\r\n            else return sustainVal;\r\n        }\r\n        else return 0.001;\r\n    }\r\n\r\n    set attackComponent(component){\r\n        this.attackControl = component;\r\n    }\r\n    set decayComponent(component){\r\n        this.decayControl = component;\r\n    }\r\n    set sustainComponent(component){\r\n        this.sustainControl = component;\r\n    }\r\n    set releaseComponent(component){\r\n        this.releaseControl = component;\r\n    }\r\n}\r\n\r\nexport default ADSR;","class Filter{\r\n    constructor(context){\r\n        this.context = context;\r\n        this.typeComponent = document.querySelector('.filterTypeSelect');\r\n    }\r\n\r\n    setValues() {\r\n        this.cutoff = parseInt(this.cutoffControl.value);\r\n        this.resonance = parseInt(this.resonanceControl.value);\r\n        this.type = this.typeComponent.options[this.typeComponent.selectedIndex].value;\r\n    }\r\n\r\n    set cutoffComponent(component){\r\n        this.cutoffControl = component;\r\n    }\r\n    set resonanceComponent(component){\r\n        this.resonanceControl = component;\r\n    }\r\n}\r\n\r\nexport default Filter;","class Oscillator{\r\n    constructor(context){\r\n        this.context = context;\r\n    }\r\n    setFrequency(halfStep){\r\n        this.frequency = 440 * ( Math.pow( Math.pow(2, 1/12), (halfStep + this.pitchControl.value)) );\r\n    }\r\n    getLevel(){\r\n        let oscLevel = ((((this.gainControl.value - this.gainControl.minVal) * 100) / (this.gainControl.maxVal - this.gainControl.minVal )/ 100) / this.voicesControl.value);\r\n        if( oscLevel > 0 ) return oscLevel\r\n        else return 0.001;\r\n    }\r\n    create(){\r\n\r\n        this.oscillators = [];\r\n\r\n        // Create Oscillators depending on how many voices\r\n        for( let i = 0; i < this.voicesControl.value; i++ ){\r\n\r\n            this.oscillators[i] = [];\r\n\r\n            // Create the gain node\r\n            this.oscillators[i]['gain'] = this.context.createGain();\r\n            // Create the filter node\r\n            this.oscillators[i]['filter'] = this.context.createBiquadFilter();\r\n\r\n            this.oscillators[i]['gain'].connect(this.oscillators[i]['filter']);\r\n            this.oscillators[i]['filter'].connect(this.context.destination);\r\n\r\n            // Create the oscillator\r\n            this.oscillators[i]['osc'] = this.context.createOscillator();\r\n            this.oscillators[i]['osc'].connect(this.oscillators[i]['gain']);\r\n            this.oscillators[i]['osc'].frequency.value = this.frequency;\r\n            this.oscillators[i]['osc'].type = this.waveformControl.value;\r\n\r\n        }\r\n\r\n        // Detune depending on the detune control value\r\n        if( this.oscillators.length > 0 ){\r\n            let detune = this.detuneControl.value / 15;\r\n            let oscBreadth = (this.voicesControl.value - 1) * detune;\r\n            this.oscillators.forEach(function(osc, index){\r\n                osc['osc'].frequency.value = (this.frequency  - (oscBreadth / 2)) + ( index *detune );\r\n            }.bind(this));\r\n        }\r\n\r\n    }\r\n    stop(when, sustain){\r\n        if(this.oscillators !== undefined ){\r\n            for( let osc of this.oscillators ){\r\n                osc['gain'].gain.exponentialRampToValueAtTime(0.01, when);\r\n                osc['osc'].stop(when);\r\n            }\r\n        }\r\n    }\r\n    set detuneComponent(component){\r\n        this.detuneControl = component;\r\n    }\r\n    set gainComponent(component){\r\n        this.gainControl = component;\r\n    }\r\n    set pitchComponent(component){\r\n        this.pitchControl = component;\r\n    }\r\n    set voicesComponent(component){\r\n        this.voicesControl = component;\r\n    }\r\n    set waveformComponent(component){\r\n        this.waveformControl = component;\r\n    }\r\n}\r\n\r\nexport default Oscillator;","import Knob from \"./knob\";\r\nimport dragInput from './dragInput';\r\nimport ADSR_Graphic from \"./../ui_components/adsr\";\r\nimport Filter_Graphic from \"./../ui_components/filter\";\r\n\r\nclass UI{\r\n    constructor(synth){\r\n        this.synth = synth;\r\n\r\n        this.setupKnobs();\r\n        this.setupDragInput();\r\n        this.setupSelect();\r\n\r\n        this.setupADSR_Graphic();\r\n        this.setupFilter_Graphic();\r\n\r\n        // Mouse up always disables any mousemove event handlers\r\n        document.addEventListener('mouseup', function(){\r\n            document.body.onmousemove = '';\r\n        }.bind(this));\r\n    }\r\n\r\n    setupKnobs(){\r\n        let knobElements = document.querySelectorAll('[data-component=\"knob\"]');\r\n        knobElements.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'level':\r\n                        this.synth.Oscillators[0].gainComponent = new Knob(element);\r\n                        break;\r\n                    case 'detune':\r\n                        this.synth.Oscillators[0].detuneComponent = new Knob(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'level':\r\n                        this.synth.Oscillators[1].gainComponent = new Knob(element);\r\n                        break;\r\n                    case 'detune':\r\n                        this.synth.Oscillators[1].detuneComponent = new Knob(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'adsr' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'attack':\r\n                        this.synth.adsr.attackComponent = new Knob(element);\r\n                        break;\r\n                    case 'decay':\r\n                        this.synth.adsr.decayComponent = new Knob(element);\r\n                        break;\r\n                    case 'sustain':\r\n                        this.synth.adsr.sustainComponent = new Knob(element);\r\n                        break;\r\n                    case 'release':\r\n                        this.synth.adsr.releaseComponent = new Knob(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'filter' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'cutoff':\r\n                        this.synth.filter.cutoffComponent = new Knob(element);\r\n                        break;\r\n                    case 'resonance':\r\n                        this.synth.filter.resonanceComponent = new Knob(element);\r\n                }\r\n            }\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    setupDragInput(){\r\n        let dragInputElements = document.querySelectorAll('[data-component=\"dragInput\"]');\r\n        dragInputElements.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ) {\r\n                switch (element.dataset.componentcontrol) {\r\n                    case 'pitch':\r\n                        this.synth.Oscillators[0].pitchComponent = new dragInput(element);\r\n                        break;\r\n                    case 'voices':\r\n                        this.synth.Oscillators[0].voicesComponent = new dragInput(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ) {\r\n                switch (element.dataset.componentcontrol) {\r\n                    case 'pitch':\r\n                        this.synth.Oscillators[1].pitchComponent = new dragInput(element);\r\n                        break;\r\n                    case 'voices':\r\n                        this.synth.Oscillators[1].voicesComponent = new dragInput(element);\r\n                        break;\r\n                }\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    setupSelect(){\r\n        let selects = document.querySelectorAll('select.waveformSelect');\r\n        selects.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ) {\r\n                this.synth.Oscillators[0].waveformComponent = element;\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ) {\r\n                this.synth.Oscillators[1].waveformComponent = element;\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    setupADSR_Graphic(){\r\n        this.adsr_graphic = new ADSR_Graphic(this.synth.adsr, document.querySelector('svg#adsrGraphic'));\r\n        this.synth.adsr.setValues();\r\n        this.adsr_graphic.updateGraphic();\r\n    }\r\n\r\n    setupFilter_Graphic(){\r\n        this.filter_graphic = new Filter_Graphic(this.synth.filter, document.querySelector('svg#filterGraphic'));\r\n        this.synth.filter.setValues();\r\n        this.filter_graphic.updateGraphic();\r\n    }\r\n}\r\n\r\nexport default UI;","class ADSR_Graphic{\r\n    constructor(component, graphic){\r\n        this.synthComponent = component;\r\n        this.graphic = graphic;\r\n\r\n        let graphicSize = graphic.getBoundingClientRect();\r\n        this.height = graphicSize.height;\r\n        this.width = graphicSize.width;\r\n\r\n        this.path = graphic.querySelector('path');\r\n\r\n        this.synthComponent.attackControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n        this.synthComponent.decayControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n        this.synthComponent.sustainControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n        this.synthComponent.releaseControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n    }\r\n\r\n    updateGraphic(){\r\n\r\n        this.synthComponent.setValues();\r\n\r\n        let draw = '';\r\n\r\n        let attack = (this.synthComponent.attackControl.value * 1.25);\r\n        let decay = (this.synthComponent.decayControl.value * 1.25);\r\n        let sustain = (((this.synthComponent.sustainControl.value * 100) / (250)) / 100);\r\n        sustain = this.height - (sustain * this.height);\r\n        if (sustain < 2) sustain = 1;\r\n        else if (sustain > ( this.height - 1 ) ) sustain = this.height - 1;\r\n        let release = this.synthComponent.releaseControl.value;\r\n\r\n        draw += 'M1,' + this.height + ' ';\r\n\r\n        // Attack (starts from lower left corner)\r\n        if ( attack < 1 )\r\n            draw += 'L1,1';\r\n        else\r\n            draw += 'Q1,1 ' + attack + ',1';\r\n\r\n        // Decay (starts where attack ends with a curve downwards towards the sustain level)\r\n        if ( decay < 1 )\r\n            draw += 'L' + attack + ',' + sustain;\r\n        else\r\n            draw += 'Q' + attack + ',' + sustain + ' ' + (decay + attack) + ',' + sustain;\r\n\r\n        // Sustain\r\n        draw += 'L' + 700 + ',' + sustain;\r\n\r\n        // Release\r\n        draw += 'Q' + 700 + ',' + (this.height - 1) + ' ' + (700 + release) + ',' + (this.height - 1);\r\n\r\n        // Add to svg\r\n        this.path.setAttribute('d', draw);\r\n\r\n    }\r\n}\r\n\r\nexport default ADSR_Graphic;","class UI_Component_Base{\r\n    constructor(element){\r\n        this.element = element;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default UI_Component_Base;","import UI_Component_Base from './base';\r\n\r\nclass dragInput extends UI_Component_Base{\r\n\r\n    constructor(element){\r\n        super(element);\r\n\r\n        this.value = parseInt(element.getAttribute('value'));\r\n        this.previousValue = 0;\r\n        this.minVal = parseInt(element.getAttribute('data-minVal'));\r\n        this.maxVal = parseInt(element.getAttribute('data-maxVal'));\r\n\r\n        this.element.onmousedown = function(){\r\n            this.previousValue = this.value;\r\n            this.updateValue();\r\n        }.bind(this);\r\n\r\n        this.setStyle();\r\n    }\r\n\r\n    updateValue(){\r\n        document.body.onmousemove = function(event) {\r\n\r\n            let elementOffset = this.element.getBoundingClientRect();\r\n            let elementCenter = elementOffset.top + (elementOffset.height / 2);\r\n            let cursorRelativeToCenter = (elementCenter - event.clientY) / 15;\r\n\r\n            let rounded = Math.round(this.previousValue + cursorRelativeToCenter);\r\n            if (rounded >= this.minVal && rounded <= this.maxVal)\r\n                this.value = rounded;\r\n\r\n            this.setStyle();\r\n\r\n        }.bind(this);\r\n    }\r\n\r\n    setStyle(){\r\n        this.element.value = this.value;\r\n    }\r\n\r\n}\r\n\r\nexport default dragInput;","class Filter_Graphic{\r\n    constructor(component, graphic){\r\n        this.filterComponent = component;\r\n\r\n        let graphicSize = graphic.getBoundingClientRect();\r\n        this.height = graphicSize.height;\r\n        this.width = graphicSize.width;\r\n\r\n        this.path = graphic.querySelector('path');\r\n\r\n        this.filterComponent.cutoffControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n        this.filterComponent.resonanceControl.afterUpdate = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n        this.filterComponent.typeComponent.onchange = function(){\r\n            this.updateGraphic();\r\n        }.bind(this);\r\n    }\r\n\r\n    updateGraphic(){\r\n        this.filterComponent.setValues();\r\n\r\n        let cutoff = this.filterComponent.cutoff / 2;\r\n        let q = ( - this.filterComponent.resonance) + 200;\r\n        let draw;\r\n\r\n        if( this.filterComponent.type === 'highpass') {\r\n\r\n            draw = 'M' + (cutoff + 10) + ' 210';\r\n\r\n            draw = draw + 'C' + (cutoff + 40) + ',' + q + ' ' + (cutoff + 40) + ',100 ' + (cutoff + 100) + ',100';\r\n\r\n            draw = draw + ' L' + (cutoff + 200) + ' 100';\r\n\r\n        } else {\r\n\r\n            draw = 'M' + (cutoff + 60) + ' 210';\r\n\r\n            draw = draw + 'C' + (cutoff + 30) + ',' + q + ' ' + (cutoff + 30) + ',100 ' + (cutoff - 30) + ',100';\r\n\r\n            draw = draw + ' L' + (-10 - cutoff) + ' 100';\r\n\r\n        }\r\n\r\n        this.path.setAttribute('d', draw);\r\n    }\r\n\r\n}\r\n\r\nexport default Filter_Graphic;","import UI_Component_Base from './base';\r\n\r\nclass Knob extends UI_Component_Base{\r\n\r\n    constructor(element){\r\n        super(element);\r\n\r\n        this._afterUpdate = null;\r\n\r\n        this.minVal = 0;\r\n        this.maxVal = 250;\r\n        this.value = parseInt(this.element.dataset.value);\r\n        this.percentage = ((this.value - this.minVal) * 100) / (this.maxVal - this.minVal);\r\n        this.lastCursorPosition = 0;\r\n\r\n        this.dial = this.createDial();\r\n\r\n        this.setStyle();\r\n\r\n        this.element.onmousedown = function(){\r\n            this.updateValue();\r\n        }.bind(this);\r\n    }\r\n\r\n    set afterUpdate(event){\r\n        this._afterUpdate = event;\r\n    }\r\n\r\n    createDial(){\r\n\r\n        let elementOffset = this.element.getBoundingClientRect();\r\n        let dimension = elementOffset.width + 10;\r\n\r\n        let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n        svg.setAttribute(\"width\", dimension.toString());\r\n        svg.setAttribute(\"height\", dimension.toString());\r\n        svg.setAttribute(\"viewBox\", '0 0 '+dimension.toString()+' '+dimension.toString());\r\n\r\n        let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n        let radius = (dimension / 2) - 4;\r\n        circle.setAttribute('cx', (dimension /2).toString());\r\n        circle.setAttribute('cy', (dimension /2).toString());\r\n        circle.setAttribute('r', radius.toString());\r\n        circle.setAttribute('fill', 'none');\r\n        circle.setAttribute('stroke', 'black');\r\n        circle.setAttribute('stroke-width', '1');\r\n\r\n        let circumference = (2 * Math.PI * radius);\r\n\r\n        circle.startPoint = circumference;\r\n        circle.endPoint = (circumference*0.33);\r\n\r\n        circumference = circumference.toString();\r\n        circle.setAttribute('stroke-dasharray', circumference + ' ' + circumference);\r\n        circle.setAttribute('stroke-dashoffset', (radius*0.33).toString());\r\n\r\n        svg.appendChild(circle);\r\n        this.element.parentNode.appendChild(svg);\r\n\r\n        return circle;\r\n\r\n    }\r\n\r\n    setStyle(){\r\n        let val = this.value - (this.maxVal / 2);\r\n            val = \"rotate(\" + val + \"deg)\";\r\n        this.element.style.transform = val;\r\n        this.element.style.webkitTransform = val;\r\n        this.element.style.MozTransform = val;\r\n        this.element.style.msTransform = val;\r\n        this.element.style.OTransform = val;\r\n\r\n        // Get percentage of value\r\n        let valPercentage = ((this.value - this.minVal) * 100) / (this.maxVal - this.minVal);\r\n\r\n        // Get dial value\r\n        let dialVal = (this.dial.endPoint - this.dial.startPoint) * ((100-valPercentage) / 100 );\r\n\r\n        // Set percentage of dial\r\n        this.dial.setAttribute('stroke-dashoffset', (this.dial.endPoint - dialVal).toString() );\r\n\r\n        if( this._afterUpdate )\r\n            this._afterUpdate();\r\n\r\n    }\r\n\r\n    updateValue(){\r\n        document.body.onmousemove = function(event) {\r\n\r\n            let elementOffset = this.element.getBoundingClientRect();\r\n            let elementCenter = elementOffset.top + (elementOffset.height / 2);\r\n            let cursorRelativeToCenter = (elementCenter - event.clientY) / 20;\r\n\r\n            if (cursorRelativeToCenter > 0 ) {\r\n\r\n                if ((this.lastCursorPosition < cursorRelativeToCenter) &&\r\n                    (this.value <= this.maxVal))\r\n                    this.value = this.value + cursorRelativeToCenter;\r\n                else if (this.value >= this.minVal)\r\n                    this.value = this.value - cursorRelativeToCenter;\r\n\r\n            } else {\r\n\r\n                if ((this.lastCursorPosition > cursorRelativeToCenter) &&\r\n                    (this.value >= this.minVal))\r\n                    this.value = this.value + cursorRelativeToCenter;\r\n                else if (this.value <= this.maxVal)\r\n                    this.value = this.value - cursorRelativeToCenter;\r\n\r\n            }\r\n\r\n            this.lastCursorPosition = cursorRelativeToCenter;\r\n            this.percentage = ((this.value - this.minVal) * 100) / (this.maxVal - this.minVal);\r\n\r\n            this.setStyle();\r\n\r\n        }.bind(this);\r\n    }\r\n}\r\n\r\nexport default Knob;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbWFpbi5qcyIsInNyYy9zeW50aC5qcyIsInNyYy9zeW50aF9jb21wb25lbnRzL2Fkc3IuanMiLCJzcmMvc3ludGhfY29tcG9uZW50cy9maWx0ZXIuanMiLCJzcmMvc3ludGhfY29tcG9uZW50cy9vc2NpbGxhdG9yLmpzIiwic3JjL3VpX2NvbXBvbmVudHMvVUkuanMiLCJzcmMvdWlfY29tcG9uZW50cy9hZHNyLmpzIiwic3JjL3VpX2NvbXBvbmVudHMvYmFzZS5qcyIsInNyYy91aV9jb21wb25lbnRzL2RyYWdJbnB1dC5qcyIsInNyYy91aV9jb21wb25lbnRzL2ZpbHRlci5qcyIsInNyYy91aV9jb21wb25lbnRzL2tub2IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFFQTs7Ozs7O0FBRUE7QUFDQTtBQUNBLElBQU0sUUFBUSxvQkFBVSxLQUFNLE9BQU8sWUFBUCxJQUF1QixPQUFPLGtCQUFwQyxHQUFWLENBQWQ7QUFDQSxNQUFNLE9BQU47O0FBRUE7Ozs7Ozs7Ozs7O0FBV0EsSUFBTSxLQUFLLFNBQVMsY0FBVCxDQUF3QixVQUF4QixDQUFYO0FBQ0EsSUFBTSxRQUFRLEdBQUcsb0JBQUgsQ0FBd0IsSUFBeEIsQ0FBZDs7QUFFQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLE1BQU0sTUFBMUIsRUFBa0MsRUFBRSxDQUFwQyxFQUF1QztBQUNuQyxVQUFNLENBQU4sRUFBUyxXQUFULEdBQXVCLFlBQVU7QUFDN0IsY0FBTSxZQUFOLENBQW1CLFNBQVMsS0FBSyxPQUFMLENBQWEsSUFBdEIsQ0FBbkI7QUFDQSxjQUFNLEtBQU47QUFDSCxLQUhEO0FBS0g7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnQkFBVCxDQUEwQixTQUExQixFQUFxQyxZQUFVO0FBQzNDLFVBQU0sSUFBTjtBQUNILENBRkQ7O0FBSUE7OztBQUdBLElB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QTNCLElBQ0MsS0FBSyxLQUFMLElBQWMsS0FBSyxNQUR4QixFQUVJLEtBQUssS0FBTCxHQUFhLEtBQUssS0FBTCxHQUFhLHNCQUExQixDQUZKLEtBR0ssSUFBSSxLQUFLLEtBQUwsSUFBYyxLQUFLLE1BQXZCLEVBQ0QsS0FBSyxLQUFMLEdBQWEsS0FBSyxLQUFMLEdBQWEsc0JBQTFCO0FBRVAsaUNBUkQsTUFRTzs7QUFFSCw0Q0FBSyxLQUFLLGtCQUFMLEdBQTBCLHNCQUEzQixJQUNDLEtBQUssS0FBTCxJQUFjLEtBQUssTUFEeEIsRUFFSSxLQUFLLEtBQUwsR0FBYSxLQUFLLEtBQUwsR0FBYSxzQkFBMUIsQ0FGSixLQUdLLElBQUksS0FBSyxLQUFMLElBQWMsS0FBSyxNQUF2QixFQUNELEtBQUssS0FBTCxHQUFhLEtBQUssS0FBTCxHQUFhLHNCQUExQjtBQUVQOztBQUVELHFDQUFLLGtCQUFMLEdBQTBCLHNCQUExQjtBQUNBLHFDQUFLLFVBQUwsR0FBbUIsQ0FBQyxLQUFLLEtBQUwsR0FBYSxLQUFLLE1BQW5CLElBQTZCLEdBQTlCLElBQXNDLEtBQUssTUFBTCxHQUFjLEtBQUssTUFBekQsQ0FBbEI7O0FBRUEscUNBQUssUUFBTDtBQUVILHlCQTdCMkIsQ0E2QjFCLElBN0IwQixDQTZCckIsSUE3QnFCLENBQTVCO0FBOEJIOzs7a0NBN0ZlLEssRUFBTTtBQUNsQiw2QkFBSyxZQUFMLEdBQW9CLEtBQXBCO0FBQ0g7Ozs7OztrQkE4RlUsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBTeW50aCBmcm9tICcuL3N5bnRoLmpzJztcclxuXHJcbi8vIEluc3RhbnRpYXRlIHRoZSBTeW50aFxyXG4vLyBBbmQgbGluayB0aGUgYXVkaW8gY29udGV4dCBjb250YWluZXJcclxuY29uc3Qgc3ludGggPSBuZXcgU3ludGgobmV3ICggd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0ICkoKSk7XHJcbnN5bnRoLnNldHVwVUkoKTtcclxuXHJcbi8qXHJcbiAgICBHZXR0aW5nIHRoZSBub3RlIGZyZXF1ZW5jaWVzOlxyXG5cclxuICAgIFRoZSBiYXNlIGZvciBjYWxjdWxhdGluZyB0aGUgZnJlcXVlbmNpZXMgaXMgNDQwIEh6LCB0aGlzIGlzIGEgQTQtIHRoZSBmaXJzdFxyXG4gICAgQSBub3RlIGFib3ZlIG1pZGRsZSBDIChDNCkuXHJcblxyXG4gICAgQWxsIG5vdGUgZnJlcXVlbmNpZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGlzIHBvaW50IG9uIHdpdGggdGhlIGZvbGxvd2luZyBjYWxjdWxhdGlvbjpcclxuICAgIFRoZSBiYXNlIGZyZXF1ZW5jeSBUSU1FUyB0aGUgdHdlbGZ0aCByb290IG9mIHR3byBUTyBUSEUgUE9XRVIgT0YgdGhlIGFtb3VudCBvZiBoYWxmIHN0ZXBzIGZyb20gQTQuXHJcbiAgICBJbiBzaG9ydDogNDQwICogKDJeKDEvMTIpKV5oLiBXaGVyZSBoIGlzIHRoZSBoYWxmIHN0ZXBzIGF3YXkgZnJvbSBBNCAod2hpY2ggd2lsbCBiZSBuZWdhdGl2ZSBpZiBcclxuICAgIHdlIHRyYXZlbCB0byB0aGUgbGVmdCBvbiB0aGUga2V5Ym9hcmQpLlxyXG4gKi9cclxuY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleWJvYXJkXCIpO1xyXG5jb25zdCBpdGVtcyA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XHJcblxyXG4vLyBXaGVuIHRoZSB1c2VyIHByZXNzZXMgZG93biBvbiBhIGtleWJvYXJkIGxpc3QgZWxlbWVudFxyXG4vLyB3ZSB3aWxsIGNhbGN1bGF0ZSB0aGUgZnJlcXVlbmN5IG9mIHRoZSBub3RlIGFuZCBwbGF5IGl0XHJcbmZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGl0ZW1zW2ldLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBzeW50aC5zZXRGcmVxdWVuY3kocGFyc2VJbnQodGhpcy5kYXRhc2V0LmhhbGYpKTtcclxuICAgICAgICBzeW50aC5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gT24gTW91c2V1cCB3ZSB3aWxsIHN0b3AgYWxsIG9zY2lsbGF0b3JzLCBJJ20gcHV0dGluZyB0aGlzIG9uIGRvY3VtZW50LmJvZHlcclxuLy8gaW5zdGVhZCBvZiBvbiB0aGUgbGlzdCBlbGVtZW50cyBiZWNhdXNlIHRoZSB1c2VyIGNhbiBob2xkIGRvd24gdGhlIGtleSB3aGlsZVxyXG4vLyBzdGlsbCBtb3ZpbmcgdGhlIG1vdXNlLCB3aGljaCBtZXNzZXMgaXQgYWxsIHVwXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpe1xyXG4gICAgc3ludGguc3RvcCgpO1xyXG59KTtcclxuXHJcbi8qXHJcbiBTaGlmdGluZyB0aGUga2V5Ym9hcmQgdG8gdGhlIGxlZnQgb3IgcmlnaHQgdXNpbmcgdGhlIG9jdGF2ZSBjb250cm9sc1xyXG4gKi9cclxubGV0IG9jdGF2ZVJhbmdlID0gMTsgLy8gVGhlIGRlZmF1bHQgc3RhdGVcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3RybD1cIm9jdGF2ZS1sZWZ0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jdHJsPVwib2N0YXZlLXJpZ2h0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgb2N0YXZlUmFuZ2UrKztcclxuICAgICAgICBpZiggb2N0YXZlUmFuZ2UgPiAxICkgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICBtb3ZlS2V5Ym9hcmRPY3RhdmUoJ2Rvd24nKTtcclxuICAgIH1cclxufSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN0cmw9XCJvY3RhdmUtcmlnaHRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZiggIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN0cmw9XCJvY3RhdmUtbGVmdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIG9jdGF2ZVJhbmdlLS07XHJcbiAgICAgICAgaWYoIG9jdGF2ZVJhbmdlIDwgMSApIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgbW92ZUtleWJvYXJkT2N0YXZlKCd1cCcpO1xyXG4gICAgfVxyXG59KTtcclxuZnVuY3Rpb24gbW92ZUtleWJvYXJkT2N0YXZlKCBkaXJlY3Rpb24gKXtcclxuICAgIGxldCBoYWxmU3RlcDtcclxuICAgIGlmKCBkaXJlY3Rpb24gPT09ICd1cCcgKXtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGhhbGZTdGVwID0gcGFyc2VJbnQoaXRlbXNbaV0uZGF0YXNldC5oYWxmKSArIDEyO1xyXG4gICAgICAgICAgICBpdGVtc1tpXS5kYXRhc2V0LmhhbGYgPSBoYWxmO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBoYWxmU3RlcCA9IHBhcnNlSW50KGl0ZW1zW2ldLmRhdGFzZXQuaGFsZikgLSAxMjtcclxuICAgICAgICAgICAgaXRlbXNbaV0uZGF0YXNldC5oYWxmID0gaGFsZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVUkgZnJvbSBcIi4vdWlfY29tcG9uZW50cy9VSS5qc1wiO1xyXG5pbXBvcnQgT3NjaWxsYXRvciBmcm9tIFwiLi9zeW50aF9jb21wb25lbnRzL29zY2lsbGF0b3JcIjtcclxuaW1wb3J0IEFEU1IgZnJvbSBcIi4vc3ludGhfY29tcG9uZW50cy9hZHNyXCI7XHJcbmltcG9ydCBGaWx0ZXIgZnJvbSBcIi4vc3ludGhfY29tcG9uZW50cy9maWx0ZXJcIjtcclxuXHJcbmNsYXNzIFN5bnRoe1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCl7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLm9zY2lsbGF0b3JzID0gW1xyXG4gICAgICAgICAgICBuZXcgT3NjaWxsYXRvcihjb250ZXh0KSxcclxuICAgICAgICAgICAgbmV3IE9zY2lsbGF0b3IoY29udGV4dCksXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLmFkc3IgPSBuZXcgQURTUihjb250ZXh0KTtcclxuICAgICAgICB0aGlzLmZpbHRlciA9IG5ldyBGaWx0ZXIoY29udGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IE9zY2lsbGF0b3JzKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3NjaWxsYXRvcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RnJlcXVlbmN5KGhhbGZTdGVwKXtcclxuICAgICAgICB0aGlzLm9zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3NjKXtcclxuICAgICAgICAgICAgb3NjLnNldEZyZXF1ZW5jeShoYWxmU3RlcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICB0aGlzLm9zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3NjKXtcclxuXHJcbiAgICAgICAgICAgIGxldCBvc2NMZXZlbCA9IG9zYy5nZXRMZXZlbCgpO1xyXG4gICAgICAgICAgICBvc2MuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0YWNrID0gKHRoaXMuYWRzci5hdHRhY2sgLyAyMDApO1xyXG4gICAgICAgICAgICBsZXQgZGVjYXkgPSAodGhpcy5hZHNyLmRlY2F5IC8gMTAwKTtcclxuXHJcbiAgICAgICAgICAgIGZvciggbGV0IG9zY2lsbGF0b3Igb2Ygb3NjLm9zY2lsbGF0b3JzICl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnRzIGF0IDAsIHJhbXBzIHVwIHRvIG9zY0xldmVsIG92ZXIgdGhlIHRpbWUgb2YgdGhlIGF0dGFja0NvbnRyb2wgdmFsdWVcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3JbJ2dhaW4nXS5nYWluLnNldFZhbHVlQXRUaW1lKDAuMDAxLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBzdXN0YWluID0gdGhpcy5hZHNyLmdldFN1c3RhaW4oKTtcclxuICAgICAgICAgICAgICAgIHN1c3RhaW4gPSAob3NjTGV2ZWwgKiBzdXN0YWluKSAvIG9zYy5vc2NpbGxhdG9ycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHN1c3RhaW4gPCAwLjAwMiApIHN1c3RhaW4gPSAwLjAwMTtcclxuXHJcbiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yWydnYWluJ10uZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKG9zY0xldmVsLCB0aGlzLmNvbnRleHQuY3VycmVudFRpbWUgKyBhdHRhY2spO1xyXG4gICAgICAgICAgICAgICAgb3NjaWxsYXRvclsnZ2FpbiddLmdhaW4uZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZShzdXN0YWluLCAodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lICsgYXR0YWNrKSArIGRlY2F5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgZmlsdGVyXHJcbiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yWydmaWx0ZXInXS50eXBlID0gdGhpcy5maWx0ZXIudHlwZTtcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3JbJ2ZpbHRlciddLmZyZXF1ZW5jeS52YWx1ZSA9ICg1MDAwICogKHRoaXMuZmlsdGVyLmN1dG9mZkNvbnRyb2wucGVyY2VudGFnZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgLy8gUGxheSB0aGUgb3NjaWxsYXRvcnNcclxuICAgICAgICB0aGlzLm9zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3NjKXtcclxuICAgICAgICAgICAgZm9yKCBsZXQgb3NjaWxsYXRvciBvZiBvc2Mub3NjaWxsYXRvcnMgKXtcclxuICAgICAgICAgICAgICAgIG9zY2lsbGF0b3JbJ29zYyddLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgpe1xyXG4gICAgICAgIGxldCByZWxlYXNlID0gKHRoaXMuYWRzci5yZWxlYXNlIC8gMjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG9zYyl7XHJcbiAgICAgICAgICAgIG9zYy5zdG9wKHRoaXMuY29udGV4dC5jdXJyZW50VGltZSArIHJlbGVhc2UsIHRoaXMuYWRzci5zdXN0YWluKTtcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwVUkoKXtcclxuICAgICAgICB0aGlzLlVJID0gbmV3IFVJKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTeW50aDsiLCJjbGFzcyBBRFNSe1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCl7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRhY2sgPSBwYXJzZUludCh0aGlzLmF0dGFja0NvbnRyb2wudmFsdWUpO1xyXG4gICAgICAgIHRoaXMuZGVjYXkgPSBwYXJzZUludCh0aGlzLmRlY2F5Q29udHJvbC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5zdXN0YWluID0gcGFyc2VJbnQodGhpcy5zdXN0YWluQ29udHJvbC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlID0gcGFyc2VJbnQodGhpcy5yZWxlYXNlQ29udHJvbC52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3VzdGFpbigpe1xyXG4gICAgICAgIGxldCBzdXN0YWluVmFsID0gKCh0aGlzLnN1c3RhaW4gKiAxMDApIC8gMjUwKSAvIDEwMDtcclxuICAgICAgICBpZiAoc3VzdGFpblZhbCA+IDApe1xyXG4gICAgICAgICAgICBpZiAoIHN1c3RhaW5WYWwgPiAxICkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN1c3RhaW5WYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuIDAuMDAxO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBhdHRhY2tDb21wb25lbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmF0dGFja0NvbnRyb2wgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBzZXQgZGVjYXlDb21wb25lbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmRlY2F5Q29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIHNldCBzdXN0YWluQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5zdXN0YWluQ29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIHNldCByZWxlYXNlQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlQ29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQURTUjsiLCJjbGFzcyBGaWx0ZXJ7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KXtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMudHlwZUNvbXBvbmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5maWx0ZXJUeXBlU2VsZWN0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmFsdWVzKCkge1xyXG4gICAgICAgIHRoaXMuY3V0b2ZmID0gcGFyc2VJbnQodGhpcy5jdXRvZmZDb250cm9sLnZhbHVlKTtcclxuICAgICAgICB0aGlzLnJlc29uYW5jZSA9IHBhcnNlSW50KHRoaXMucmVzb25hbmNlQ29udHJvbC52YWx1ZSk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlQ29tcG9uZW50Lm9wdGlvbnNbdGhpcy50eXBlQ29tcG9uZW50LnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBjdXRvZmZDb21wb25lbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmN1dG9mZkNvbnRyb2wgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBzZXQgcmVzb25hbmNlQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5yZXNvbmFuY2VDb250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGaWx0ZXI7IiwiY2xhc3MgT3NjaWxsYXRvcntcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpe1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBzZXRGcmVxdWVuY3koaGFsZlN0ZXApe1xyXG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gNDQwICogKCBNYXRoLnBvdyggTWF0aC5wb3coMiwgMS8xMiksIChoYWxmU3RlcCArIHRoaXMucGl0Y2hDb250cm9sLnZhbHVlKSkgKTtcclxuICAgIH1cclxuICAgIGdldExldmVsKCl7XHJcbiAgICAgICAgbGV0IG9zY0xldmVsID0gKCgoKHRoaXMuZ2FpbkNvbnRyb2wudmFsdWUgLSB0aGlzLmdhaW5Db250cm9sLm1pblZhbCkgKiAxMDApIC8gKHRoaXMuZ2FpbkNvbnRyb2wubWF4VmFsIC0gdGhpcy5nYWluQ29udHJvbC5taW5WYWwgKS8gMTAwKSAvIHRoaXMudm9pY2VzQ29udHJvbC52YWx1ZSk7XHJcbiAgICAgICAgaWYoIG9zY0xldmVsID4gMCApIHJldHVybiBvc2NMZXZlbFxyXG4gICAgICAgIGVsc2UgcmV0dXJuIDAuMDAxO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKCl7XHJcblxyXG4gICAgICAgIHRoaXMub3NjaWxsYXRvcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIE9zY2lsbGF0b3JzIGRlcGVuZGluZyBvbiBob3cgbWFueSB2b2ljZXNcclxuICAgICAgICBmb3IoIGxldCBpID0gMDsgaSA8IHRoaXMudm9pY2VzQ29udHJvbC52YWx1ZTsgaSsrICl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGdhaW4gbm9kZVxyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydnYWluJ10gPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGZpbHRlciBub2RlXHJcbiAgICAgICAgICAgIHRoaXMub3NjaWxsYXRvcnNbaV1bJ2ZpbHRlciddID0gdGhpcy5jb250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yc1tpXVsnZ2FpbiddLmNvbm5lY3QodGhpcy5vc2NpbGxhdG9yc1tpXVsnZmlsdGVyJ10pO1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydmaWx0ZXInXS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG9zY2lsbGF0b3JcclxuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yc1tpXVsnb3NjJ10gPSB0aGlzLmNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpO1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydvc2MnXS5jb25uZWN0KHRoaXMub3NjaWxsYXRvcnNbaV1bJ2dhaW4nXSk7XHJcbiAgICAgICAgICAgIHRoaXMub3NjaWxsYXRvcnNbaV1bJ29zYyddLmZyZXF1ZW5jeS52YWx1ZSA9IHRoaXMuZnJlcXVlbmN5O1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydvc2MnXS50eXBlID0gdGhpcy53YXZlZm9ybUNvbnRyb2wudmFsdWU7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0dW5lIGRlcGVuZGluZyBvbiB0aGUgZGV0dW5lIGNvbnRyb2wgdmFsdWVcclxuICAgICAgICBpZiggdGhpcy5vc2NpbGxhdG9ycy5sZW5ndGggPiAwICl7XHJcbiAgICAgICAgICAgIGxldCBkZXR1bmUgPSB0aGlzLmRldHVuZUNvbnRyb2wudmFsdWUgLyAxNTtcclxuICAgICAgICAgICAgbGV0IG9zY0JyZWFkdGggPSAodGhpcy52b2ljZXNDb250cm9sLnZhbHVlIC0gMSkgKiBkZXR1bmU7XHJcbiAgICAgICAgICAgIHRoaXMub3NjaWxsYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvc2MsIGluZGV4KXtcclxuICAgICAgICAgICAgICAgIG9zY1snb3NjJ10uZnJlcXVlbmN5LnZhbHVlID0gKHRoaXMuZnJlcXVlbmN5ICAtIChvc2NCcmVhZHRoIC8gMikpICsgKCBpbmRleCAqZGV0dW5lICk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHN0b3Aod2hlbiwgc3VzdGFpbil7XHJcbiAgICAgICAgaWYodGhpcy5vc2NpbGxhdG9ycyAhPT0gdW5kZWZpbmVkICl7XHJcbiAgICAgICAgICAgIGZvciggbGV0IG9zYyBvZiB0aGlzLm9zY2lsbGF0b3JzICl7XHJcbiAgICAgICAgICAgICAgICBvc2NbJ2dhaW4nXS5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMC4wMSwgd2hlbik7XHJcbiAgICAgICAgICAgICAgICBvc2NbJ29zYyddLnN0b3Aod2hlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXQgZGV0dW5lQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5kZXR1bmVDb250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgc2V0IGdhaW5Db21wb25lbnQoY29tcG9uZW50KXtcclxuICAgICAgICB0aGlzLmdhaW5Db250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgc2V0IHBpdGNoQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5waXRjaENvbnRyb2wgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBzZXQgdm9pY2VzQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy52b2ljZXNDb250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgc2V0IHdhdmVmb3JtQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy53YXZlZm9ybUNvbnRyb2wgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9zY2lsbGF0b3I7IiwiaW1wb3J0IEtub2IgZnJvbSBcIi4va25vYlwiO1xyXG5pbXBvcnQgZHJhZ0lucHV0IGZyb20gJy4vZHJhZ0lucHV0JztcclxuaW1wb3J0IEFEU1JfR3JhcGhpYyBmcm9tIFwiLi8uLi91aV9jb21wb25lbnRzL2Fkc3JcIjtcclxuaW1wb3J0IEZpbHRlcl9HcmFwaGljIGZyb20gXCIuLy4uL3VpX2NvbXBvbmVudHMvZmlsdGVyXCI7XHJcblxyXG5jbGFzcyBVSXtcclxuICAgIGNvbnN0cnVjdG9yKHN5bnRoKXtcclxuICAgICAgICB0aGlzLnN5bnRoID0gc3ludGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBLbm9icygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBEcmFnSW5wdXQoKTtcclxuICAgICAgICB0aGlzLnNldHVwU2VsZWN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBBRFNSX0dyYXBoaWMoKTtcclxuICAgICAgICB0aGlzLnNldHVwRmlsdGVyX0dyYXBoaWMoKTtcclxuXHJcbiAgICAgICAgLy8gTW91c2UgdXAgYWx3YXlzIGRpc2FibGVzIGFueSBtb3VzZW1vdmUgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5vbm1vdXNlbW92ZSA9ICcnO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBLbm9icygpe1xyXG4gICAgICAgIGxldCBrbm9iRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb21wb25lbnQ9XCJrbm9iXCJdJyk7XHJcbiAgICAgICAga25vYkVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50cGFyZW50ID09PSAnb3NjWzBdJyApe1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50Y29udHJvbCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xldmVsJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1swXS5nYWluQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RldHVuZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMF0uZGV0dW5lQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50cGFyZW50ID09PSAnb3NjWzFdJyApe1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50Y29udHJvbCApe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xldmVsJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1sxXS5nYWluQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RldHVuZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMV0uZGV0dW5lQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50cGFyZW50ID09PSAnYWRzcicgKXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudGNvbnRyb2wgKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhdHRhY2snOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLmFkc3IuYXR0YWNrQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlY2F5JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5hZHNyLmRlY2F5Q29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1c3RhaW4nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLmFkc3Iuc3VzdGFpbkNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdyZWxlYXNlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5hZHNyLnJlbGVhc2VDb21wb25lbnQgPSBuZXcgS25vYihlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRwYXJlbnQgPT09ICdmaWx0ZXInICl7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRjb250cm9sICl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3V0b2ZmJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5maWx0ZXIuY3V0b2ZmQ29tcG9uZW50ID0gbmV3IEtub2IoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc29uYW5jZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguZmlsdGVyLnJlc29uYW5jZUNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBEcmFnSW5wdXQoKXtcclxuICAgICAgICBsZXQgZHJhZ0lucHV0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb21wb25lbnQ9XCJkcmFnSW5wdXRcIl0nKTtcclxuICAgICAgICBkcmFnSW5wdXRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudHBhcmVudCA9PT0gJ29zY1swXScgKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGl0Y2gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLk9zY2lsbGF0b3JzWzBdLnBpdGNoQ29tcG9uZW50ID0gbmV3IGRyYWdJbnB1dChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndm9pY2VzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1swXS52b2ljZXNDb21wb25lbnQgPSBuZXcgZHJhZ0lucHV0KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudHBhcmVudCA9PT0gJ29zY1sxXScgKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRjb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGl0Y2gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLk9zY2lsbGF0b3JzWzFdLnBpdGNoQ29tcG9uZW50ID0gbmV3IGRyYWdJbnB1dChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndm9pY2VzJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1sxXS52b2ljZXNDb21wb25lbnQgPSBuZXcgZHJhZ0lucHV0KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBTZWxlY3QoKXtcclxuICAgICAgICBsZXQgc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdC53YXZlZm9ybVNlbGVjdCcpO1xyXG4gICAgICAgIHNlbGVjdHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgaWYoIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRwYXJlbnQgPT09ICdvc2NbMF0nICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1swXS53YXZlZm9ybUNvbXBvbmVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRwYXJlbnQgPT09ICdvc2NbMV0nICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1sxXS53YXZlZm9ybUNvbXBvbmVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwQURTUl9HcmFwaGljKCl7XHJcbiAgICAgICAgdGhpcy5hZHNyX2dyYXBoaWMgPSBuZXcgQURTUl9HcmFwaGljKHRoaXMuc3ludGguYWRzciwgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnI2Fkc3JHcmFwaGljJykpO1xyXG4gICAgICAgIHRoaXMuc3ludGguYWRzci5zZXRWYWx1ZXMoKTtcclxuICAgICAgICB0aGlzLmFkc3JfZ3JhcGhpYy51cGRhdGVHcmFwaGljKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBGaWx0ZXJfR3JhcGhpYygpe1xyXG4gICAgICAgIHRoaXMuZmlsdGVyX2dyYXBoaWMgPSBuZXcgRmlsdGVyX0dyYXBoaWModGhpcy5zeW50aC5maWx0ZXIsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N2ZyNmaWx0ZXJHcmFwaGljJykpO1xyXG4gICAgICAgIHRoaXMuc3ludGguZmlsdGVyLnNldFZhbHVlcygpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyX2dyYXBoaWMudXBkYXRlR3JhcGhpYygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVSTsiLCJjbGFzcyBBRFNSX0dyYXBoaWN7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQsIGdyYXBoaWMpe1xyXG4gICAgICAgIHRoaXMuc3ludGhDb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5ncmFwaGljID0gZ3JhcGhpYztcclxuXHJcbiAgICAgICAgbGV0IGdyYXBoaWNTaXplID0gZ3JhcGhpYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGdyYXBoaWNTaXplLmhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gZ3JhcGhpY1NpemUud2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMucGF0aCA9IGdyYXBoaWMucXVlcnlTZWxlY3RvcigncGF0aCcpO1xyXG5cclxuICAgICAgICB0aGlzLnN5bnRoQ29tcG9uZW50LmF0dGFja0NvbnRyb2wuYWZ0ZXJVcGRhdGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWMoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zeW50aENvbXBvbmVudC5kZWNheUNvbnRyb2wuYWZ0ZXJVcGRhdGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWMoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zeW50aENvbXBvbmVudC5zdXN0YWluQ29udHJvbC5hZnRlclVwZGF0ZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpYygpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLnN5bnRoQ29tcG9uZW50LnJlbGVhc2VDb250cm9sLmFmdGVyVXBkYXRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUdyYXBoaWMoKXtcclxuXHJcbiAgICAgICAgdGhpcy5zeW50aENvbXBvbmVudC5zZXRWYWx1ZXMoKTtcclxuXHJcbiAgICAgICAgbGV0IGRyYXcgPSAnJztcclxuXHJcbiAgICAgICAgbGV0IGF0dGFjayA9ICh0aGlzLnN5bnRoQ29tcG9uZW50LmF0dGFja0NvbnRyb2wudmFsdWUgKiAxLjI1KTtcclxuICAgICAgICBsZXQgZGVjYXkgPSAodGhpcy5zeW50aENvbXBvbmVudC5kZWNheUNvbnRyb2wudmFsdWUgKiAxLjI1KTtcclxuICAgICAgICBsZXQgc3VzdGFpbiA9ICgoKHRoaXMuc3ludGhDb21wb25lbnQuc3VzdGFpbkNvbnRyb2wudmFsdWUgKiAxMDApIC8gKDI1MCkpIC8gMTAwKTtcclxuICAgICAgICBzdXN0YWluID0gdGhpcy5oZWlnaHQgLSAoc3VzdGFpbiAqIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICBpZiAoc3VzdGFpbiA8IDIpIHN1c3RhaW4gPSAxO1xyXG4gICAgICAgIGVsc2UgaWYgKHN1c3RhaW4gPiAoIHRoaXMuaGVpZ2h0IC0gMSApICkgc3VzdGFpbiA9IHRoaXMuaGVpZ2h0IC0gMTtcclxuICAgICAgICBsZXQgcmVsZWFzZSA9IHRoaXMuc3ludGhDb21wb25lbnQucmVsZWFzZUNvbnRyb2wudmFsdWU7XHJcblxyXG4gICAgICAgIGRyYXcgKz0gJ00xLCcgKyB0aGlzLmhlaWdodCArICcgJztcclxuXHJcbiAgICAgICAgLy8gQXR0YWNrIChzdGFydHMgZnJvbSBsb3dlciBsZWZ0IGNvcm5lcilcclxuICAgICAgICBpZiAoIGF0dGFjayA8IDEgKVxyXG4gICAgICAgICAgICBkcmF3ICs9ICdMMSwxJztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGRyYXcgKz0gJ1ExLDEgJyArIGF0dGFjayArICcsMSc7XHJcblxyXG4gICAgICAgIC8vIERlY2F5IChzdGFydHMgd2hlcmUgYXR0YWNrIGVuZHMgd2l0aCBhIGN1cnZlIGRvd253YXJkcyB0b3dhcmRzIHRoZSBzdXN0YWluIGxldmVsKVxyXG4gICAgICAgIGlmICggZGVjYXkgPCAxIClcclxuICAgICAgICAgICAgZHJhdyArPSAnTCcgKyBhdHRhY2sgKyAnLCcgKyBzdXN0YWluO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZHJhdyArPSAnUScgKyBhdHRhY2sgKyAnLCcgKyBzdXN0YWluICsgJyAnICsgKGRlY2F5ICsgYXR0YWNrKSArICcsJyArIHN1c3RhaW47XHJcblxyXG4gICAgICAgIC8vIFN1c3RhaW5cclxuICAgICAgICBkcmF3ICs9ICdMJyArIDcwMCArICcsJyArIHN1c3RhaW47XHJcblxyXG4gICAgICAgIC8vIFJlbGVhc2VcclxuICAgICAgICBkcmF3ICs9ICdRJyArIDcwMCArICcsJyArICh0aGlzLmhlaWdodCAtIDEpICsgJyAnICsgKDcwMCArIHJlbGVhc2UpICsgJywnICsgKHRoaXMuaGVpZ2h0IC0gMSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0byBzdmdcclxuICAgICAgICB0aGlzLnBhdGguc2V0QXR0cmlidXRlKCdkJywgZHJhdyk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBRFNSX0dyYXBoaWM7IiwiY2xhc3MgVUlfQ29tcG9uZW50X0Jhc2V7XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KXtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVJX0NvbXBvbmVudF9CYXNlOyIsImltcG9ydCBVSV9Db21wb25lbnRfQmFzZSBmcm9tICcuL2Jhc2UnO1xyXG5cclxuY2xhc3MgZHJhZ0lucHV0IGV4dGVuZHMgVUlfQ29tcG9uZW50X0Jhc2V7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCl7XHJcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLm1pblZhbCA9IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW1pblZhbCcpKTtcclxuICAgICAgICB0aGlzLm1heFZhbCA9IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW1heFZhbCcpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdHlsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZhbHVlKCl7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRDZW50ZXIgPSBlbGVtZW50T2Zmc2V0LnRvcCArIChlbGVtZW50T2Zmc2V0LmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICBsZXQgY3Vyc29yUmVsYXRpdmVUb0NlbnRlciA9IChlbGVtZW50Q2VudGVyIC0gZXZlbnQuY2xpZW50WSkgLyAxNTtcclxuXHJcbiAgICAgICAgICAgIGxldCByb3VuZGVkID0gTWF0aC5yb3VuZCh0aGlzLnByZXZpb3VzVmFsdWUgKyBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyKTtcclxuICAgICAgICAgICAgaWYgKHJvdW5kZWQgPj0gdGhpcy5taW5WYWwgJiYgcm91bmRlZCA8PSB0aGlzLm1heFZhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSByb3VuZGVkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZSgpO1xyXG5cclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3R5bGUoKXtcclxuICAgICAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZHJhZ0lucHV0OyIsImNsYXNzIEZpbHRlcl9HcmFwaGlje1xyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCBncmFwaGljKXtcclxuICAgICAgICB0aGlzLmZpbHRlckNvbXBvbmVudCA9IGNvbXBvbmVudDtcclxuXHJcbiAgICAgICAgbGV0IGdyYXBoaWNTaXplID0gZ3JhcGhpYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGdyYXBoaWNTaXplLmhlaWdodDtcclxuICAgICAgICB0aGlzLndpZHRoID0gZ3JhcGhpY1NpemUud2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMucGF0aCA9IGdyYXBoaWMucXVlcnlTZWxlY3RvcigncGF0aCcpO1xyXG5cclxuICAgICAgICB0aGlzLmZpbHRlckNvbXBvbmVudC5jdXRvZmZDb250cm9sLmFmdGVyVXBkYXRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVHcmFwaGljKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyQ29tcG9uZW50LnJlc29uYW5jZUNvbnRyb2wuYWZ0ZXJVcGRhdGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWMoKTtcclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJDb21wb25lbnQudHlwZUNvbXBvbmVudC5vbmNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR3JhcGhpYygpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVHcmFwaGljKCl7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJDb21wb25lbnQuc2V0VmFsdWVzKCk7XHJcblxyXG4gICAgICAgIGxldCBjdXRvZmYgPSB0aGlzLmZpbHRlckNvbXBvbmVudC5jdXRvZmYgLyAyO1xyXG4gICAgICAgIGxldCBxID0gKCAtIHRoaXMuZmlsdGVyQ29tcG9uZW50LnJlc29uYW5jZSkgKyAyMDA7XHJcbiAgICAgICAgbGV0IGRyYXc7XHJcblxyXG4gICAgICAgIGlmKCB0aGlzLmZpbHRlckNvbXBvbmVudC50eXBlID09PSAnaGlnaHBhc3MnKSB7XHJcblxyXG4gICAgICAgICAgICBkcmF3ID0gJ00nICsgKGN1dG9mZiArIDEwKSArICcgMjEwJztcclxuXHJcbiAgICAgICAgICAgIGRyYXcgPSBkcmF3ICsgJ0MnICsgKGN1dG9mZiArIDQwKSArICcsJyArIHEgKyAnICcgKyAoY3V0b2ZmICsgNDApICsgJywxMDAgJyArIChjdXRvZmYgKyAxMDApICsgJywxMDAnO1xyXG5cclxuICAgICAgICAgICAgZHJhdyA9IGRyYXcgKyAnIEwnICsgKGN1dG9mZiArIDIwMCkgKyAnIDEwMCc7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBkcmF3ID0gJ00nICsgKGN1dG9mZiArIDYwKSArICcgMjEwJztcclxuXHJcbiAgICAgICAgICAgIGRyYXcgPSBkcmF3ICsgJ0MnICsgKGN1dG9mZiArIDMwKSArICcsJyArIHEgKyAnICcgKyAoY3V0b2ZmICsgMzApICsgJywxMDAgJyArIChjdXRvZmYgLSAzMCkgKyAnLDEwMCc7XHJcblxyXG4gICAgICAgICAgICBkcmF3ID0gZHJhdyArICcgTCcgKyAoLTEwIC0gY3V0b2ZmKSArICcgMTAwJztcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhdGguc2V0QXR0cmlidXRlKCdkJywgZHJhdyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGaWx0ZXJfR3JhcGhpYzsiLCJpbXBvcnQgVUlfQ29tcG9uZW50X0Jhc2UgZnJvbSAnLi9iYXNlJztcclxuXHJcbmNsYXNzIEtub2IgZXh0ZW5kcyBVSV9Db21wb25lbnRfQmFzZXtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KXtcclxuICAgICAgICBzdXBlcihlbGVtZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5fYWZ0ZXJVcGRhdGUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLm1pblZhbCA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXhWYWwgPSAyNTA7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KHRoaXMuZWxlbWVudC5kYXRhc2V0LnZhbHVlKTtcclxuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAoKHRoaXMudmFsdWUgLSB0aGlzLm1pblZhbCkgKiAxMDApIC8gKHRoaXMubWF4VmFsIC0gdGhpcy5taW5WYWwpO1xyXG4gICAgICAgIHRoaXMubGFzdEN1cnNvclBvc2l0aW9uID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5kaWFsID0gdGhpcy5jcmVhdGVEaWFsKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3R5bGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgYWZ0ZXJVcGRhdGUoZXZlbnQpe1xyXG4gICAgICAgIHRoaXMuX2FmdGVyVXBkYXRlID0gZXZlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlRGlhbCgpe1xyXG5cclxuICAgICAgICBsZXQgZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgZGltZW5zaW9uID0gZWxlbWVudE9mZnNldC53aWR0aCArIDEwO1xyXG5cclxuICAgICAgICBsZXQgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcclxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgZGltZW5zaW9uLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgZGltZW5zaW9uLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsICcwIDAgJytkaW1lbnNpb24udG9TdHJpbmcoKSsnICcrZGltZW5zaW9uLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBsZXQgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdjaXJjbGUnKTtcclxuICAgICAgICBsZXQgcmFkaXVzID0gKGRpbWVuc2lvbiAvIDIpIC0gNDtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdjeCcsIChkaW1lbnNpb24gLzIpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N5JywgKGRpbWVuc2lvbiAvMikudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgncicsIHJhZGl1cy50b1N0cmluZygpKTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdmaWxsJywgJ25vbmUnKTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMScpO1xyXG5cclxuICAgICAgICBsZXQgY2lyY3VtZmVyZW5jZSA9ICgyICogTWF0aC5QSSAqIHJhZGl1cyk7XHJcblxyXG4gICAgICAgIGNpcmNsZS5zdGFydFBvaW50ID0gY2lyY3VtZmVyZW5jZTtcclxuICAgICAgICBjaXJjbGUuZW5kUG9pbnQgPSAoY2lyY3VtZmVyZW5jZSowLjMzKTtcclxuXHJcbiAgICAgICAgY2lyY3VtZmVyZW5jZSA9IGNpcmN1bWZlcmVuY2UudG9TdHJpbmcoKTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdzdHJva2UtZGFzaGFycmF5JywgY2lyY3VtZmVyZW5jZSArICcgJyArIGNpcmN1bWZlcmVuY2UpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0JywgKHJhZGl1cyowLjMzKS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGNpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoc3ZnKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNpcmNsZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3R5bGUoKXtcclxuICAgICAgICBsZXQgdmFsID0gdGhpcy52YWx1ZSAtICh0aGlzLm1heFZhbCAvIDIpO1xyXG4gICAgICAgICAgICB2YWwgPSBcInJvdGF0ZShcIiArIHZhbCArIFwiZGVnKVwiO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSB2YWw7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHZhbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuTW96VHJhbnNmb3JtID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tc1RyYW5zZm9ybSA9IHZhbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuT1RyYW5zZm9ybSA9IHZhbDtcclxuXHJcbiAgICAgICAgLy8gR2V0IHBlcmNlbnRhZ2Ugb2YgdmFsdWVcclxuICAgICAgICBsZXQgdmFsUGVyY2VudGFnZSA9ICgodGhpcy52YWx1ZSAtIHRoaXMubWluVmFsKSAqIDEwMCkgLyAodGhpcy5tYXhWYWwgLSB0aGlzLm1pblZhbCk7XHJcblxyXG4gICAgICAgIC8vIEdldCBkaWFsIHZhbHVlXHJcbiAgICAgICAgbGV0IGRpYWxWYWwgPSAodGhpcy5kaWFsLmVuZFBvaW50IC0gdGhpcy5kaWFsLnN0YXJ0UG9pbnQpICogKCgxMDAtdmFsUGVyY2VudGFnZSkgLyAxMDAgKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHBlcmNlbnRhZ2Ugb2YgZGlhbFxyXG4gICAgICAgIHRoaXMuZGlhbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNob2Zmc2V0JywgKHRoaXMuZGlhbC5lbmRQb2ludCAtIGRpYWxWYWwpLnRvU3RyaW5nKCkgKTtcclxuXHJcbiAgICAgICAgaWYoIHRoaXMuX2FmdGVyVXBkYXRlIClcclxuICAgICAgICAgICAgdGhpcy5fYWZ0ZXJVcGRhdGUoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVmFsdWUoKXtcclxuICAgICAgICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbGVtZW50T2Zmc2V0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENlbnRlciA9IGVsZW1lbnRPZmZzZXQudG9wICsgKGVsZW1lbnRPZmZzZXQuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgICAgIGxldCBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyID0gKGVsZW1lbnRDZW50ZXIgLSBldmVudC5jbGllbnRZKSAvIDIwO1xyXG5cclxuICAgICAgICAgICAgaWYgKGN1cnNvclJlbGF0aXZlVG9DZW50ZXIgPiAwICkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5sYXN0Q3Vyc29yUG9zaXRpb24gPCBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnZhbHVlIDw9IHRoaXMubWF4VmFsKSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSArIGN1cnNvclJlbGF0aXZlVG9DZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnZhbHVlID49IHRoaXMubWluVmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlIC0gY3Vyc29yUmVsYXRpdmVUb0NlbnRlcjtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhc3RDdXJzb3JQb3NpdGlvbiA+IGN1cnNvclJlbGF0aXZlVG9DZW50ZXIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudmFsdWUgPj0gdGhpcy5taW5WYWwpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlICsgY3Vyc29yUmVsYXRpdmVUb0NlbnRlcjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudmFsdWUgPD0gdGhpcy5tYXhWYWwpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgLSBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0Q3Vyc29yUG9zaXRpb24gPSBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyO1xyXG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAoKHRoaXMudmFsdWUgLSB0aGlzLm1pblZhbCkgKiAxMDApIC8gKHRoaXMubWF4VmFsIC0gdGhpcy5taW5WYWwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZSgpO1xyXG5cclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtub2I7Il19"}