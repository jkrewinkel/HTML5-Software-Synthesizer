{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/main.js","src/synth.js","src/synth_components/oscillator.js","src/ui_components/UI.js","src/ui_components/base.js","src/ui_components/dragInput.js","src/ui_components/knob.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\r\n\r\nimport Synth from './synth.js';\r\n\r\n// Instantiate the Synth\r\n// And link the audio context container\r\nconst synth = new Synth(new ( window.AudioContext || window.webkitAudioContext )());\r\nsynth.setupUI();\r\n\r\n/*\r\n    Getting the note frequencies:\r\n\r\n    The base for calculating the frequencies is 440 Hz, this is a A4- the first\r\n    A note above middle C (C4).\r\n\r\n    All note frequencies are calculated from this point on with the following calculation:\r\n    The base frequency TIMES the twelfth root of two TO THE POWER OF the amount of half steps from A4.\r\n    In short: 440 * (2^(1/12))^h. Where h is the half steps away from A4 (which will be negative if \r\n    we travel to the left on the keyboard).\r\n */\r\nconst ul = document.getElementById(\"keyboard\");\r\nconst items = ul.getElementsByTagName(\"li\");\r\n\r\n// When the user presses down on a keyboard list element\r\n// we will calculate the frequency of the note and play it\r\nfor (let i = 0; i < items.length; ++i) {\r\n    items[i].onmousedown = function(){\r\n        synth.setFrequency(parseInt(this.dataset.half));\r\n        synth.start();\r\n    }\r\n\r\n}\r\n\r\n// On Mouseup we will stop all oscillators, I'm putting this on document.body\r\n// instead of on the list elements because the user can hold down the key while\r\n// still moving the mouse, which messes it all up\r\ndocument.addEventListener('mouseup', function(){\r\n    synth.stop();\r\n});\r\n\r\n/*\r\n Shifting the keyboard to the left or right using the octave controls\r\n */\r\nlet octaveRange = 1; // The default state\r\ndocument.querySelector('[data-ctrl=\"octave-left\"]').addEventListener('click', function(){\r\n    if( !this.classList.contains('active')) {\r\n        document.querySelector('[data-ctrl=\"octave-right\"]').classList.remove('active');\r\n        octaveRange++;\r\n        if( octaveRange > 1 ) this.classList.add('active');\r\n        moveKeyboardOctave('down');\r\n    }\r\n});\r\ndocument.querySelector('[data-ctrl=\"octave-right\"]').addEventListener('click', function(){\r\n    if( !this.classList.contains('active')) {\r\n        document.querySelector('[data-ctrl=\"octave-left\"]').classList.remove('active');\r\n        octaveRange--;\r\n        if( octaveRange < 1 ) this.classList.add('active');\r\n        moveKeyboardOctave('up');\r\n    }\r\n});\r\nfunction moveKeyboardOctave( direction ){\r\n    let halfStep;\r\n    if( direction === 'up' ){\r\n        for (let i = 0; i < items.length; ++i) {\r\n            halfStep = parseInt(items[i].dataset.half) + 12;\r\n            items[i].dataset.half = half;\r\n        }\r\n    } else {\r\n        for (let i = 0; i < items.length; ++i) {\r\n            halfStep = parseInt(items[i].dataset.half) - 12;\r\n            items[i].dataset.half = half;\r\n        }\r\n    }\r\n}","import UI from \"./ui_components/UI.js\";\r\nimport Oscillator from \"./synth_components/oscillator\";\r\n\r\nclass Synth{\r\n    constructor(context){\r\n        this.context = context;\r\n        this.oscillators = [\r\n            new Oscillator(context),\r\n            new Oscillator(context),\r\n        ];\r\n    }\r\n\r\n    get Oscillators(){\r\n        return this.oscillators;\r\n    }\r\n\r\n    setFrequency(halfStep){\r\n        this.oscillators.forEach(function(osc){\r\n            osc.setFrequency(halfStep);\r\n        });\r\n    }\r\n\r\n    start(){\r\n        this.oscillators.forEach(function(osc){\r\n            osc.start();\r\n        });\r\n    }\r\n\r\n    stop(){\r\n        this.oscillators.forEach(function(osc){\r\n           osc.stop();\r\n        });\r\n    }\r\n\r\n    setupUI(){\r\n        this.UI = new UI(this);\r\n    }\r\n}\r\n\r\nexport default Synth;","class Oscillator{\r\n    constructor(context){\r\n        this.context = context;\r\n    }\r\n    setFrequency(halfStep){\r\n        this.frequency = 440 * ( Math.pow( Math.pow(2, 1/12), (halfStep + this.pitchControl.value)) );\r\n    }\r\n    start(){\r\n\r\n        this.oscillators = [];\r\n\r\n        // Create Oscillators depending on how many voices\r\n        for( let i = 0; i < this.voicesControl.value; i++ ){\r\n\r\n            this.oscillators[i] = [];\r\n\r\n            // Create the gain node\r\n            this.oscillators[i]['gain'] = this.context.createGain();\r\n            this.oscillators[i]['gain'].connect(this.context.destination);\r\n            console.log(this.voicesControl.value);\r\n\r\n            this.oscillators[i]['gain'].gain.value = ((((this.gainControl.value - this.gainControl.minVal) * 100) / (this.gainControl.maxVal - this.gainControl.minVal )/ 100) / this.voicesControl.value);\r\n\r\n            console.log(this.oscillators[i]['gain'].gain);\r\n            // Create the oscillator\r\n            this.oscillators[i]['osc'] = this.context.createOscillator();\r\n            this.oscillators[i]['osc'].connect(this.oscillators[i]['gain']);\r\n            this.oscillators[i]['osc'].frequency.value = this.frequency;\r\n            this.oscillators[i]['osc'].type = this.waveformControl.value;\r\n\r\n        }\r\n\r\n        // Detune depending on the detune control value\r\n        if( this.oscillators.length > 0 ){\r\n            let detune = this.detuneControl.value / 15;\r\n            let oscBreadth = (this.voicesControl.value - 1) * detune;\r\n            this.oscillators.forEach(function(osc, index){\r\n                osc['osc'].frequency.value = (this.frequency  - (oscBreadth / 2)) + ( index *detune );\r\n            }.bind(this));\r\n        }\r\n\r\n        // Play the oscillators\r\n        for( let osc of this.oscillators ){\r\n            osc['osc'].start();\r\n        }\r\n\r\n    }\r\n    stop(){\r\n        if(this.oscillators !== undefined ){\r\n            for( let osc of this.oscillators ){\r\n                osc['osc'].stop();\r\n            }\r\n        }\r\n    }\r\n    set detuneComponent(component){\r\n        this.detuneControl = component;\r\n    }\r\n    set gainComponent(component){\r\n        this.gainControl = component;\r\n    }\r\n    set pitchComponent(component){\r\n        this.pitchControl = component;\r\n    }\r\n    set voicesComponent(component){\r\n        this.voicesControl = component;\r\n    }\r\n    set waveformComponent(component){\r\n        this.waveformControl = component;\r\n    }\r\n}\r\n\r\nexport default Oscillator;","import Knob from \"./knob\";\r\nimport dragInput from './dragInput';\r\n\r\nclass UI{\r\n    constructor(synth){\r\n        this.synth = synth;\r\n\r\n        this.setupKnobs();\r\n        this.setupDragInput();\r\n        this.setupSelect();\r\n\r\n        // Mouse up always disables any mousemove event handlers\r\n        document.addEventListener('mouseup', function(){\r\n            document.body.onmousemove = '';\r\n        }.bind(this));\r\n    }\r\n\r\n    setupKnobs(){\r\n        let knobElements = document.querySelectorAll('[data-component=\"knob\"]');\r\n        knobElements.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'level':\r\n                        this.synth.Oscillators[0].gainComponent = new Knob(element);\r\n                        break;\r\n                    case 'detune':\r\n                        this.synth.Oscillators[0].detuneComponent = new Knob(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ){\r\n                switch( element.dataset.componentcontrol ){\r\n                    case 'level':\r\n                        this.synth.Oscillators[1].gainComponent = new Knob(element);\r\n                        break;\r\n                    case 'detune':\r\n                        this.synth.Oscillators[1].detuneComponent = new Knob(element);\r\n                        break;\r\n                }\r\n            }\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    setupDragInput(){\r\n        let dragInputElements = document.querySelectorAll('[data-component=\"dragInput\"]');\r\n        dragInputElements.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ) {\r\n                switch (element.dataset.componentcontrol) {\r\n                    case 'pitch':\r\n                        this.synth.Oscillators[0].pitchComponent = new dragInput(element);\r\n                        break;\r\n                    case 'voices':\r\n                        this.synth.Oscillators[0].voicesComponent = new dragInput(element);\r\n                        break;\r\n                }\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ) {\r\n                switch (element.dataset.componentcontrol) {\r\n                    case 'pitch':\r\n                        this.synth.Oscillators[1].pitchComponent = new dragInput(element);\r\n                        break;\r\n                    case 'voices':\r\n                        this.synth.Oscillators[1].voicesComponent = new dragInput(element);\r\n                        break;\r\n                }\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    setupSelect(){\r\n        let selects = document.querySelectorAll('select.waveformSelect');\r\n        selects.forEach(function(element){\r\n            if( element.dataset.componentparent === 'osc[0]' ) {\r\n                this.synth.Oscillators[0].waveformComponent = element;\r\n            }\r\n            if( element.dataset.componentparent === 'osc[1]' ) {\r\n                this.synth.Oscillators[1].waveformComponent = element;\r\n            }\r\n        }.bind(this));\r\n    }\r\n}\r\n\r\nexport default UI;","class UI_Component_Base{\r\n    constructor(element){\r\n        this.element = element;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default UI_Component_Base;","import UI_Component_Base from './base';\r\n\r\nclass dragInput extends UI_Component_Base{\r\n\r\n    constructor(element){\r\n        super(element);\r\n\r\n        this.value = parseInt(element.getAttribute('value'));\r\n        this.previousValue = 0;\r\n        this.minVal = parseInt(element.getAttribute('data-minVal'));\r\n        this.maxVal = parseInt(element.getAttribute('data-maxVal'));\r\n\r\n        this.element.onmousedown = function(){\r\n            this.previousValue = this.value;\r\n            this.updateValue();\r\n        }.bind(this);\r\n\r\n        this.setStyle();\r\n    }\r\n\r\n    updateValue(){\r\n        document.body.onmousemove = function(event) {\r\n\r\n            let elementOffset = this.element.getBoundingClientRect();\r\n            let elementCenter = elementOffset.top + (elementOffset.height / 2);\r\n            let cursorRelativeToCenter = (elementCenter - event.clientY) / 15;\r\n\r\n            let rounded = Math.round(this.previousValue + cursorRelativeToCenter);\r\n            if (rounded >= this.minVal && rounded <= this.maxVal)\r\n                this.value = rounded;\r\n\r\n            this.setStyle();\r\n\r\n        }.bind(this);\r\n    }\r\n\r\n    setStyle(){\r\n        this.element.value = this.value;\r\n    }\r\n\r\n}\r\n\r\nexport default dragInput;","import UI_Component_Base from './base';\r\n\r\nclass Knob extends UI_Component_Base{\r\n\r\n    constructor(element){\r\n        super(element);\r\n\r\n        this.element.dataset.value = '0';\r\n\r\n        this.minVal = 0;\r\n        this.maxVal = 250;\r\n        this.value = 0;\r\n        this.lastCursorPosition = 0;\r\n\r\n        this.dial = this.createDial();\r\n\r\n        this.setStyle();\r\n\r\n        this.element.onmousedown = function(){\r\n            this.updateValue();\r\n        }.bind(this);\r\n    }\r\n\r\n    createDial(){\r\n\r\n        let elementOffset = this.element.getBoundingClientRect();\r\n        let dimension = elementOffset.width + 10;\r\n\r\n        let svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n        svg.setAttribute(\"width\", dimension.toString());\r\n        svg.setAttribute(\"height\", dimension.toString());\r\n        svg.setAttribute(\"viewBox\", '0 0 '+dimension.toString()+' '+dimension.toString());\r\n\r\n        let circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n        let radius = (dimension / 2) - 4;\r\n        circle.setAttribute('cx', (dimension /2).toString());\r\n        circle.setAttribute('cy', (dimension /2).toString());\r\n        circle.setAttribute('r', radius.toString());\r\n        circle.setAttribute('fill', 'none');\r\n        circle.setAttribute('stroke', 'black');\r\n        circle.setAttribute('stroke-width', '1');\r\n\r\n        let circumference = (2 * Math.PI * radius);\r\n        //circle.setAttribute('data-endpoint', (circumference*0.33).toString() );\r\n\r\n        circle.startPoint = circumference;\r\n        circle.endPoint = (circumference*0.33);\r\n\r\n        circumference = circumference.toString();\r\n        //circle.setAttribute('data-startpoint', circumference);\r\n        circle.setAttribute('stroke-dasharray', circumference + ' ' + circumference);\r\n        circle.setAttribute('stroke-dashoffset', (radius*0.33).toString());\r\n\r\n        svg.appendChild(circle);\r\n        this.element.parentNode.appendChild(svg);\r\n\r\n        return circle;\r\n\r\n    }\r\n\r\n    setStyle(){\r\n        let val = this.value - (this.maxVal / 2);\r\n            val = \"rotate(\" + val + \"deg)\";\r\n        this.element.style.transform = val;\r\n        this.element.style.webkitTransform = val;\r\n        this.element.style.MozTransform = val;\r\n        this.element.style.msTransform = val;\r\n        this.element.style.OTransform = val;\r\n\r\n        // Get percentage of value\r\n        let valPercentage = ((this.value - this.minVal) * 100) / (this.maxVal - this.minVal);\r\n\r\n        // Get dial value\r\n        let dialVal = (this.dial.endPoint - this.dial.startPoint) * ((100-valPercentage) / 100 );\r\n\r\n        // Set percentage of dial\r\n        this.dial.setAttribute('stroke-dashoffset', (this.dial.endPoint - dialVal).toString() );\r\n    }\r\n\r\n    updateValue(){\r\n        document.body.onmousemove = function(event) {\r\n\r\n            let elementOffset = this.element.getBoundingClientRect();\r\n            let elementCenter = elementOffset.top + (elementOffset.height / 2);\r\n            let cursorRelativeToCenter = (elementCenter - event.clientY) / 150;\r\n\r\n            if (cursorRelativeToCenter > 0 ) {\r\n\r\n                if ((this.lastCursorPosition < cursorRelativeToCenter) &&\r\n                    (this.value < this.maxVal))\r\n                    this.value = this.value + cursorRelativeToCenter;\r\n                else if (this.value > this.minVal)\r\n                    this.value = this.value - cursorRelativeToCenter;\r\n\r\n            } else {\r\n\r\n                if ((this.lastCursorPosition > cursorRelativeToCenter) &&\r\n                    (this.value > this.minVal))\r\n                    this.value = this.value + cursorRelativeToCenter;\r\n                else if (this.value < this.maxVal)\r\n                    this.value = this.value - cursorRelativeToCenter;\r\n\r\n            }\r\n\r\n            this.lastCursorPosition = cursorRelativeToCenter;\r\n\r\n            this.setStyle();\r\n\r\n        }.bind(this);\r\n    }\r\n}\r\n\r\nexport default Knob;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvbWFpbi5qcyIsInNyYy9zeW50aC5qcyIsInNyYy9zeW50aF9jb21wb25lbnRzL29zY2lsbGF0b3IuanMiLCJzcmMvdWlfY29tcG9uZW50cy9VSS5qcyIsInNyYy91aV9jb21wb25lbnRzL2Jhc2UuanMiLCJzcmMvdWlfY29tcG9uZW50cy9kcmFnSW5wdXQuanMiLCJzcmMvdWlfY29tcG9uZW50cy9rbm9iLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUE7Ozs7OztBQUVBO0FBQ0E7QUFDQSxJQUFNLFFBQVEsb0JBQVUsS0FBTSxPQUFPLFlBQVAsSUFBdUIsT0FBTyxrQkFBcEMsR0FBVixDQUFkO0FBQ0EsTUFBTSxPQUFOOztBQUVBOzs7Ozs7Ozs7OztBQVdBLElBQU0sS0FBSyxTQUFTLGNBQVQsQ0FBd0IsVUFBeEIsQ0FBWDtBQUNBLElBQU0sUUFBUSxHQUFHLG9CQUFILENBQXdCLElBQXhCLENBQWQ7O0FBRUE7QUFDQTtBQUNBLEtBQUssSUFBSSxJQUFJLENBQWIsRUFBZ0IsSUFBSSxNQUFNLE1BQTFCLEVBQWtDLEVBQUUsQ0FBcEMsRUFBdUM7QUFDbkMsVUFBTSxDQUFOLEVBQVMsV0FBVCxHQUF1QixZQUFVO0FBQzdCLGNBQU0sWUFBTixDQUFtQixTQUFTLEtBQUssT0FBTCxDQUFhLElBQXRCLENBQW5CO0FBQ0EsY0FBTSxLQUFOO0FBQ0gsS0FIRDtBQUtIOztBQUVEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQVQsQ0FBMEIsU0FBMUIsRUFBcUMsWUFBVTtBQUMzQyxVQUFNLElBQU47QUFDSCxDQUZEOztBQUlBOzs7QUFHQSxJQUFJLGNBQWMsQ0FBbEIsQyxDQUFxQjtBQUNyQixTQUFTLGFBQVQsQ0FBdUIsMkJBQXZCLEVBQW9ELGdCQUFwRCxDQUFxRSxPQUFyRSxFQUE4RSxZQUFVO0FBQ3BGLFFBQUksQ0FBQyxLQUFLLFNBQUwsQ0FBZSxRQUFm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QixPQUF0QixFQUErQixRQUEvQixFQUE1QztBQUNIOzs7OENBRVk7QUFDVCxpQ0FBUyxJQUFULENBQWMsV0FBZCxHQUE0QixVQUFTLEtBQVQsRUFBZ0I7O0FBRXhDLG9DQUFJLGdCQUFnQixLQUFLLE9BQUwsQ0FBYSxxQkFBYixFQUFwQjtBQUNBLG9DQUFJLGdCQUFnQixjQUFjLEdBQWQsR0FBcUIsY0FBYyxNQUFkLEdBQXVCLENBQWhFO0FBQ0Esb0NBQUkseUJBQXlCLENBQUMsZ0JBQWdCLE1BQU0sT0FBdkIsSUFBa0MsR0FBL0Q7O0FBRUEsb0NBQUkseUJBQXlCLENBQTdCLEVBQWlDOztBQUU3Qiw0Q0FBSyxLQUFLLGtCQUFMLEdBQTBCLHNCQUEzQixJQUNDLEtBQUssS0FBTCxHQUFhLEtBQUssTUFEdkIsRUFFSSxLQUFLLEtBQUwsR0FBYSxLQUFLLEtBQUwsR0FBYSxzQkFBMUIsQ0FGSixLQUdLLElBQUksS0FBSyxLQUFMLEdBQWEsS0FBSyxNQUF0QixFQUNELEtBQUssS0FBTCxHQUFhLEtBQUssS0FBTCxHQUFhLHNCQUExQjtBQUVQLGlDQVJELE1BUU87O0FBRUgsNENBQUssS0FBSyxrQkFBTCxHQUEwQixzQkFBM0IsSUFDQyxLQUFLLEtBQUwsR0FBYSxLQUFLLE1BRHZCLEVBRUksS0FBSyxLQUFMLEdBQWEsS0FBSyxLQUFMLEdBQWEsc0JBQTFCLENBRkosS0FHSyxJQUFJLEtBQUssS0FBTCxHQUFhLEtBQUssTUFBdEIsRUFDRCxLQUFLLEtBQUwsR0FBYSxLQUFLLEtBQUwsR0FBYSxzQkFBMUI7QUFFUDs7QUFFRCxxQ0FBSyxrQkFBTCxHQUEwQixzQkFBMUI7O0FBRUEscUNBQUssUUFBTDtBQUVILHlCQTVCMkIsQ0E0QjFCLElBNUIwQixDQTRCckIsSUE1QnFCLENBQTVCO0FBNkJIOzs7Ozs7a0JBR1UsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBTeW50aCBmcm9tICcuL3N5bnRoLmpzJztcclxuXHJcbi8vIEluc3RhbnRpYXRlIHRoZSBTeW50aFxyXG4vLyBBbmQgbGluayB0aGUgYXVkaW8gY29udGV4dCBjb250YWluZXJcclxuY29uc3Qgc3ludGggPSBuZXcgU3ludGgobmV3ICggd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0ICkoKSk7XHJcbnN5bnRoLnNldHVwVUkoKTtcclxuXHJcbi8qXHJcbiAgICBHZXR0aW5nIHRoZSBub3RlIGZyZXF1ZW5jaWVzOlxyXG5cclxuICAgIFRoZSBiYXNlIGZvciBjYWxjdWxhdGluZyB0aGUgZnJlcXVlbmNpZXMgaXMgNDQwIEh6LCB0aGlzIGlzIGEgQTQtIHRoZSBmaXJzdFxyXG4gICAgQSBub3RlIGFib3ZlIG1pZGRsZSBDIChDNCkuXHJcblxyXG4gICAgQWxsIG5vdGUgZnJlcXVlbmNpZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGlzIHBvaW50IG9uIHdpdGggdGhlIGZvbGxvd2luZyBjYWxjdWxhdGlvbjpcclxuICAgIFRoZSBiYXNlIGZyZXF1ZW5jeSBUSU1FUyB0aGUgdHdlbGZ0aCByb290IG9mIHR3byBUTyBUSEUgUE9XRVIgT0YgdGhlIGFtb3VudCBvZiBoYWxmIHN0ZXBzIGZyb20gQTQuXHJcbiAgICBJbiBzaG9ydDogNDQwICogKDJeKDEvMTIpKV5oLiBXaGVyZSBoIGlzIHRoZSBoYWxmIHN0ZXBzIGF3YXkgZnJvbSBBNCAod2hpY2ggd2lsbCBiZSBuZWdhdGl2ZSBpZiBcclxuICAgIHdlIHRyYXZlbCB0byB0aGUgbGVmdCBvbiB0aGUga2V5Ym9hcmQpLlxyXG4gKi9cclxuY29uc3QgdWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleWJvYXJkXCIpO1xyXG5jb25zdCBpdGVtcyA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XHJcblxyXG4vLyBXaGVuIHRoZSB1c2VyIHByZXNzZXMgZG93biBvbiBhIGtleWJvYXJkIGxpc3QgZWxlbWVudFxyXG4vLyB3ZSB3aWxsIGNhbGN1bGF0ZSB0aGUgZnJlcXVlbmN5IG9mIHRoZSBub3RlIGFuZCBwbGF5IGl0XHJcbmZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyArK2kpIHtcclxuICAgIGl0ZW1zW2ldLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBzeW50aC5zZXRGcmVxdWVuY3kocGFyc2VJbnQodGhpcy5kYXRhc2V0LmhhbGYpKTtcclxuICAgICAgICBzeW50aC5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gT24gTW91c2V1cCB3ZSB3aWxsIHN0b3AgYWxsIG9zY2lsbGF0b3JzLCBJJ20gcHV0dGluZyB0aGlzIG9uIGRvY3VtZW50LmJvZHlcclxuLy8gaW5zdGVhZCBvZiBvbiB0aGUgbGlzdCBlbGVtZW50cyBiZWNhdXNlIHRoZSB1c2VyIGNhbiBob2xkIGRvd24gdGhlIGtleSB3aGlsZVxyXG4vLyBzdGlsbCBtb3ZpbmcgdGhlIG1vdXNlLCB3aGljaCBtZXNzZXMgaXQgYWxsIHVwXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpe1xyXG4gICAgc3ludGguc3RvcCgpO1xyXG59KTtcclxuXHJcbi8qXHJcbiBTaGlmdGluZyB0aGUga2V5Ym9hcmQgdG8gdGhlIGxlZnQgb3IgcmlnaHQgdXNpbmcgdGhlIG9jdGF2ZSBjb250cm9sc1xyXG4gKi9cclxubGV0IG9jdGF2ZVJhbmdlID0gMTsgLy8gVGhlIGRlZmF1bHQgc3RhdGVcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3RybD1cIm9jdGF2ZS1sZWZ0XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoICF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jdHJsPVwib2N0YXZlLXJpZ2h0XCJdJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgb2N0YXZlUmFuZ2UrKztcclxuICAgICAgICBpZiggb2N0YXZlUmFuZ2UgPiAxICkgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICBtb3ZlS2V5Ym9hcmRPY3RhdmUoJ2Rvd24nKTtcclxuICAgIH1cclxufSk7XHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN0cmw9XCJvY3RhdmUtcmlnaHRcIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZiggIXRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN0cmw9XCJvY3RhdmUtbGVmdFwiXScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIG9jdGF2ZVJhbmdlLS07XHJcbiAgICAgICAgaWYoIG9jdGF2ZVJhbmdlIDwgMSApIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgbW92ZUtleWJvYXJkT2N0YXZlKCd1cCcpO1xyXG4gICAgfVxyXG59KTtcclxuZnVuY3Rpb24gbW92ZUtleWJvYXJkT2N0YXZlKCBkaXJlY3Rpb24gKXtcclxuICAgIGxldCBoYWxmU3RlcDtcclxuICAgIGlmKCBkaXJlY3Rpb24gPT09ICd1cCcgKXtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGhhbGZTdGVwID0gcGFyc2VJbnQoaXRlbXNbaV0uZGF0YXNldC5oYWxmKSArIDEyO1xyXG4gICAgICAgICAgICBpdGVtc1tpXS5kYXRhc2V0LmhhbGYgPSBoYWxmO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBoYWxmU3RlcCA9IHBhcnNlSW50KGl0ZW1zW2ldLmRhdGFzZXQuaGFsZikgLSAxMjtcclxuICAgICAgICAgICAgaXRlbXNbaV0uZGF0YXNldC5oYWxmID0gaGFsZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVUkgZnJvbSBcIi4vdWlfY29tcG9uZW50cy9VSS5qc1wiO1xyXG5pbXBvcnQgT3NjaWxsYXRvciBmcm9tIFwiLi9zeW50aF9jb21wb25lbnRzL29zY2lsbGF0b3JcIjtcclxuXHJcbmNsYXNzIFN5bnRoe1xyXG4gICAgY29uc3RydWN0b3IoY29udGV4dCl7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLm9zY2lsbGF0b3JzID0gW1xyXG4gICAgICAgICAgICBuZXcgT3NjaWxsYXRvcihjb250ZXh0KSxcclxuICAgICAgICAgICAgbmV3IE9zY2lsbGF0b3IoY29udGV4dCksXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgT3NjaWxsYXRvcnMoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5vc2NpbGxhdG9ycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRGcmVxdWVuY3koaGFsZlN0ZXApe1xyXG4gICAgICAgIHRoaXMub3NjaWxsYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvc2Mpe1xyXG4gICAgICAgICAgICBvc2Muc2V0RnJlcXVlbmN5KGhhbGZTdGVwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydCgpe1xyXG4gICAgICAgIHRoaXMub3NjaWxsYXRvcnMuZm9yRWFjaChmdW5jdGlvbihvc2Mpe1xyXG4gICAgICAgICAgICBvc2Muc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCl7XHJcbiAgICAgICAgdGhpcy5vc2NpbGxhdG9ycy5mb3JFYWNoKGZ1bmN0aW9uKG9zYyl7XHJcbiAgICAgICAgICAgb3NjLnN0b3AoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFVJKCl7XHJcbiAgICAgICAgdGhpcy5VSSA9IG5ldyBVSSh0aGlzKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU3ludGg7IiwiY2xhc3MgT3NjaWxsYXRvcntcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpe1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB9XHJcbiAgICBzZXRGcmVxdWVuY3koaGFsZlN0ZXApe1xyXG4gICAgICAgIHRoaXMuZnJlcXVlbmN5ID0gNDQwICogKCBNYXRoLnBvdyggTWF0aC5wb3coMiwgMS8xMiksIChoYWxmU3RlcCArIHRoaXMucGl0Y2hDb250cm9sLnZhbHVlKSkgKTtcclxuICAgIH1cclxuICAgIHN0YXJ0KCl7XHJcblxyXG4gICAgICAgIHRoaXMub3NjaWxsYXRvcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXRlIE9zY2lsbGF0b3JzIGRlcGVuZGluZyBvbiBob3cgbWFueSB2b2ljZXNcclxuICAgICAgICBmb3IoIGxldCBpID0gMDsgaSA8IHRoaXMudm9pY2VzQ29udHJvbC52YWx1ZTsgaSsrICl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGdhaW4gbm9kZVxyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydnYWluJ10gPSB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpO1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydnYWluJ10uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZvaWNlc0NvbnRyb2wudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yc1tpXVsnZ2FpbiddLmdhaW4udmFsdWUgPSAoKCgodGhpcy5nYWluQ29udHJvbC52YWx1ZSAtIHRoaXMuZ2FpbkNvbnRyb2wubWluVmFsKSAqIDEwMCkgLyAodGhpcy5nYWluQ29udHJvbC5tYXhWYWwgLSB0aGlzLmdhaW5Db250cm9sLm1pblZhbCApLyAxMDApIC8gdGhpcy52b2ljZXNDb250cm9sLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMub3NjaWxsYXRvcnNbaV1bJ2dhaW4nXS5nYWluKTtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBvc2NpbGxhdG9yXHJcbiAgICAgICAgICAgIHRoaXMub3NjaWxsYXRvcnNbaV1bJ29zYyddID0gdGhpcy5jb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTtcclxuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yc1tpXVsnb3NjJ10uY29ubmVjdCh0aGlzLm9zY2lsbGF0b3JzW2ldWydnYWluJ10pO1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzW2ldWydvc2MnXS5mcmVxdWVuY3kudmFsdWUgPSB0aGlzLmZyZXF1ZW5jeTtcclxuICAgICAgICAgICAgdGhpcy5vc2NpbGxhdG9yc1tpXVsnb3NjJ10udHlwZSA9IHRoaXMud2F2ZWZvcm1Db250cm9sLnZhbHVlO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERldHVuZSBkZXBlbmRpbmcgb24gdGhlIGRldHVuZSBjb250cm9sIHZhbHVlXHJcbiAgICAgICAgaWYoIHRoaXMub3NjaWxsYXRvcnMubGVuZ3RoID4gMCApe1xyXG4gICAgICAgICAgICBsZXQgZGV0dW5lID0gdGhpcy5kZXR1bmVDb250cm9sLnZhbHVlIC8gMTU7XHJcbiAgICAgICAgICAgIGxldCBvc2NCcmVhZHRoID0gKHRoaXMudm9pY2VzQ29udHJvbC52YWx1ZSAtIDEpICogZGV0dW5lO1xyXG4gICAgICAgICAgICB0aGlzLm9zY2lsbGF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3NjLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICBvc2NbJ29zYyddLmZyZXF1ZW5jeS52YWx1ZSA9ICh0aGlzLmZyZXF1ZW5jeSAgLSAob3NjQnJlYWR0aCAvIDIpKSArICggaW5kZXggKmRldHVuZSApO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGxheSB0aGUgb3NjaWxsYXRvcnNcclxuICAgICAgICBmb3IoIGxldCBvc2Mgb2YgdGhpcy5vc2NpbGxhdG9ycyApe1xyXG4gICAgICAgICAgICBvc2NbJ29zYyddLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHN0b3AoKXtcclxuICAgICAgICBpZih0aGlzLm9zY2lsbGF0b3JzICE9PSB1bmRlZmluZWQgKXtcclxuICAgICAgICAgICAgZm9yKCBsZXQgb3NjIG9mIHRoaXMub3NjaWxsYXRvcnMgKXtcclxuICAgICAgICAgICAgICAgIG9zY1snb3NjJ10uc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0IGRldHVuZUNvbXBvbmVudChjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMuZGV0dW5lQ29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIHNldCBnYWluQ29tcG9uZW50KGNvbXBvbmVudCl7XHJcbiAgICAgICAgdGhpcy5nYWluQ29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIHNldCBwaXRjaENvbXBvbmVudChjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMucGl0Y2hDb250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG4gICAgc2V0IHZvaWNlc0NvbXBvbmVudChjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMudm9pY2VzQ29udHJvbCA9IGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIHNldCB3YXZlZm9ybUNvbXBvbmVudChjb21wb25lbnQpe1xyXG4gICAgICAgIHRoaXMud2F2ZWZvcm1Db250cm9sID0gY29tcG9uZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBPc2NpbGxhdG9yOyIsImltcG9ydCBLbm9iIGZyb20gXCIuL2tub2JcIjtcclxuaW1wb3J0IGRyYWdJbnB1dCBmcm9tICcuL2RyYWdJbnB1dCc7XHJcblxyXG5jbGFzcyBVSXtcclxuICAgIGNvbnN0cnVjdG9yKHN5bnRoKXtcclxuICAgICAgICB0aGlzLnN5bnRoID0gc3ludGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBLbm9icygpO1xyXG4gICAgICAgIHRoaXMuc2V0dXBEcmFnSW5wdXQoKTtcclxuICAgICAgICB0aGlzLnNldHVwU2VsZWN0KCk7XHJcblxyXG4gICAgICAgIC8vIE1vdXNlIHVwIGFsd2F5cyBkaXNhYmxlcyBhbnkgbW91c2Vtb3ZlIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkub25tb3VzZW1vdmUgPSAnJztcclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwS25vYnMoKXtcclxuICAgICAgICBsZXQga25vYkVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29tcG9uZW50PVwia25vYlwiXScpO1xyXG4gICAgICAgIGtub2JFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudHBhcmVudCA9PT0gJ29zY1swXScgKXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudGNvbnRyb2wgKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZXZlbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMF0uZ2FpbkNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXR1bmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLk9zY2lsbGF0b3JzWzBdLmRldHVuZUNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudHBhcmVudCA9PT0gJ29zY1sxXScgKXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCggZWxlbWVudC5kYXRhc2V0LmNvbXBvbmVudGNvbnRyb2wgKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZXZlbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMV0uZ2FpbkNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXR1bmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bnRoLk9zY2lsbGF0b3JzWzFdLmRldHVuZUNvbXBvbmVudCA9IG5ldyBLbm9iKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldHVwRHJhZ0lucHV0KCl7XHJcbiAgICAgICAgbGV0IGRyYWdJbnB1dEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29tcG9uZW50PVwiZHJhZ0lucHV0XCJdJyk7XHJcbiAgICAgICAgZHJhZ0lucHV0RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgaWYoIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRwYXJlbnQgPT09ICdvc2NbMF0nICkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50Y29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BpdGNoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1swXS5waXRjaENvbXBvbmVudCA9IG5ldyBkcmFnSW5wdXQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZvaWNlcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMF0udm9pY2VzQ29tcG9uZW50ID0gbmV3IGRyYWdJbnB1dChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoIGVsZW1lbnQuZGF0YXNldC5jb21wb25lbnRwYXJlbnQgPT09ICdvc2NbMV0nICkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50Y29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BpdGNoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW50aC5Pc2NpbGxhdG9yc1sxXS5waXRjaENvbXBvbmVudCA9IG5ldyBkcmFnSW5wdXQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZvaWNlcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMV0udm9pY2VzQ29tcG9uZW50ID0gbmV3IGRyYWdJbnB1dChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwU2VsZWN0KCl7XHJcbiAgICAgICAgbGV0IHNlbGVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3Qud2F2ZWZvcm1TZWxlY3QnKTtcclxuICAgICAgICBzZWxlY3RzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50cGFyZW50ID09PSAnb3NjWzBdJyApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMF0ud2F2ZWZvcm1Db21wb25lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCBlbGVtZW50LmRhdGFzZXQuY29tcG9uZW50cGFyZW50ID09PSAnb3NjWzFdJyApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ludGguT3NjaWxsYXRvcnNbMV0ud2F2ZWZvcm1Db21wb25lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVUk7IiwiY2xhc3MgVUlfQ29tcG9uZW50X0Jhc2V7XHJcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KXtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVJX0NvbXBvbmVudF9CYXNlOyIsImltcG9ydCBVSV9Db21wb25lbnRfQmFzZSBmcm9tICcuL2Jhc2UnO1xyXG5cclxuY2xhc3MgZHJhZ0lucHV0IGV4dGVuZHMgVUlfQ29tcG9uZW50X0Jhc2V7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCl7XHJcbiAgICAgICAgc3VwZXIoZWxlbWVudCk7XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gMDtcclxuICAgICAgICB0aGlzLm1pblZhbCA9IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW1pblZhbCcpKTtcclxuICAgICAgICB0aGlzLm1heFZhbCA9IHBhcnNlSW50KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLW1heFZhbCcpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdHlsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZhbHVlKCl7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRDZW50ZXIgPSBlbGVtZW50T2Zmc2V0LnRvcCArIChlbGVtZW50T2Zmc2V0LmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICBsZXQgY3Vyc29yUmVsYXRpdmVUb0NlbnRlciA9IChlbGVtZW50Q2VudGVyIC0gZXZlbnQuY2xpZW50WSkgLyAxNTtcclxuXHJcbiAgICAgICAgICAgIGxldCByb3VuZGVkID0gTWF0aC5yb3VuZCh0aGlzLnByZXZpb3VzVmFsdWUgKyBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyKTtcclxuICAgICAgICAgICAgaWYgKHJvdW5kZWQgPj0gdGhpcy5taW5WYWwgJiYgcm91bmRlZCA8PSB0aGlzLm1heFZhbClcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSByb3VuZGVkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZSgpO1xyXG5cclxuICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3R5bGUoKXtcclxuICAgICAgICB0aGlzLmVsZW1lbnQudmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZHJhZ0lucHV0OyIsImltcG9ydCBVSV9Db21wb25lbnRfQmFzZSBmcm9tICcuL2Jhc2UnO1xyXG5cclxuY2xhc3MgS25vYiBleHRlbmRzIFVJX0NvbXBvbmVudF9CYXNle1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpe1xyXG4gICAgICAgIHN1cGVyKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmVsZW1lbnQuZGF0YXNldC52YWx1ZSA9ICcwJztcclxuXHJcbiAgICAgICAgdGhpcy5taW5WYWwgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4VmFsID0gMjUwO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEN1cnNvclBvc2l0aW9uID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5kaWFsID0gdGhpcy5jcmVhdGVEaWFsKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3R5bGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVEaWFsKCl7XHJcblxyXG4gICAgICAgIGxldCBlbGVtZW50T2Zmc2V0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCBkaW1lbnNpb24gPSBlbGVtZW50T2Zmc2V0LndpZHRoICsgMTA7XHJcblxyXG4gICAgICAgIGxldCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBkaW1lbnNpb24udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBkaW1lbnNpb24udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgJzAgMCAnK2RpbWVuc2lvbi50b1N0cmluZygpKycgJytkaW1lbnNpb24udG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIGxldCBjaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ2NpcmNsZScpO1xyXG4gICAgICAgIGxldCByYWRpdXMgPSAoZGltZW5zaW9uIC8gMikgLSA0O1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2N4JywgKGRpbWVuc2lvbiAvMikudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3knLCAoZGltZW5zaW9uIC8yKS50b1N0cmluZygpKTtcclxuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKCdyJywgcmFkaXVzLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnbm9uZScpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICcxJyk7XHJcblxyXG4gICAgICAgIGxldCBjaXJjdW1mZXJlbmNlID0gKDIgKiBNYXRoLlBJICogcmFkaXVzKTtcclxuICAgICAgICAvL2NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZW5kcG9pbnQnLCAoY2lyY3VtZmVyZW5jZSowLjMzKS50b1N0cmluZygpICk7XHJcblxyXG4gICAgICAgIGNpcmNsZS5zdGFydFBvaW50ID0gY2lyY3VtZmVyZW5jZTtcclxuICAgICAgICBjaXJjbGUuZW5kUG9pbnQgPSAoY2lyY3VtZmVyZW5jZSowLjMzKTtcclxuXHJcbiAgICAgICAgY2lyY3VtZmVyZW5jZSA9IGNpcmN1bWZlcmVuY2UudG9TdHJpbmcoKTtcclxuICAgICAgICAvL2NpcmNsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhcnRwb2ludCcsIGNpcmN1bWZlcmVuY2UpO1xyXG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS1kYXNoYXJyYXknLCBjaXJjdW1mZXJlbmNlICsgJyAnICsgY2lyY3VtZmVyZW5jZSk7XHJcbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCAocmFkaXVzKjAuMzMpLnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoY2lyY2xlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChzdmcpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2lyY2xlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRTdHlsZSgpe1xyXG4gICAgICAgIGxldCB2YWwgPSB0aGlzLnZhbHVlIC0gKHRoaXMubWF4VmFsIC8gMik7XHJcbiAgICAgICAgICAgIHZhbCA9IFwicm90YXRlKFwiICsgdmFsICsgXCJkZWcpXCI7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IHZhbDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB2YWw7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtID0gdmFsO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5PVHJhbnNmb3JtID0gdmFsO1xyXG5cclxuICAgICAgICAvLyBHZXQgcGVyY2VudGFnZSBvZiB2YWx1ZVxyXG4gICAgICAgIGxldCB2YWxQZXJjZW50YWdlID0gKCh0aGlzLnZhbHVlIC0gdGhpcy5taW5WYWwpICogMTAwKSAvICh0aGlzLm1heFZhbCAtIHRoaXMubWluVmFsKTtcclxuXHJcbiAgICAgICAgLy8gR2V0IGRpYWwgdmFsdWVcclxuICAgICAgICBsZXQgZGlhbFZhbCA9ICh0aGlzLmRpYWwuZW5kUG9pbnQgLSB0aGlzLmRpYWwuc3RhcnRQb2ludCkgKiAoKDEwMC12YWxQZXJjZW50YWdlKSAvIDEwMCApO1xyXG5cclxuICAgICAgICAvLyBTZXQgcGVyY2VudGFnZSBvZiBkaWFsXHJcbiAgICAgICAgdGhpcy5kaWFsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLWRhc2hvZmZzZXQnLCAodGhpcy5kaWFsLmVuZFBvaW50IC0gZGlhbFZhbCkudG9TdHJpbmcoKSApO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVZhbHVlKCl7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZWxlbWVudE9mZnNldCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRDZW50ZXIgPSBlbGVtZW50T2Zmc2V0LnRvcCArIChlbGVtZW50T2Zmc2V0LmhlaWdodCAvIDIpO1xyXG4gICAgICAgICAgICBsZXQgY3Vyc29yUmVsYXRpdmVUb0NlbnRlciA9IChlbGVtZW50Q2VudGVyIC0gZXZlbnQuY2xpZW50WSkgLyAxNTA7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3Vyc29yUmVsYXRpdmVUb0NlbnRlciA+IDAgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhc3RDdXJzb3JQb3NpdGlvbiA8IGN1cnNvclJlbGF0aXZlVG9DZW50ZXIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudmFsdWUgPCB0aGlzLm1heFZhbCkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgKyBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy52YWx1ZSA+IHRoaXMubWluVmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlIC0gY3Vyc29yUmVsYXRpdmVUb0NlbnRlcjtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLmxhc3RDdXJzb3JQb3NpdGlvbiA+IGN1cnNvclJlbGF0aXZlVG9DZW50ZXIpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMudmFsdWUgPiB0aGlzLm1pblZhbCkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUgKyBjdXJzb3JSZWxhdGl2ZVRvQ2VudGVyO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy52YWx1ZSA8IHRoaXMubWF4VmFsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlIC0gY3Vyc29yUmVsYXRpdmVUb0NlbnRlcjtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFzdEN1cnNvclBvc2l0aW9uID0gY3Vyc29yUmVsYXRpdmVUb0NlbnRlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUoKTtcclxuXHJcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBLbm9iOyJdfQ=="}