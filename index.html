<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Synth</title>
    <meta name="description" content="A softsynth created in HTML5">
    <meta name="author" content="Jiri Krewinkel">

    <link rel="stylesheet" href="public/styles.css">
    <style>@import 'https://fonts.googleapis.com/css?family=Montserrat:400,700|Raleway:400,700';</style>

    <!--[if lt IE 9]>
    <!-- Add IE script here

    <![endif]-->
</head>

<body>

<div id="container">
    <header>
        <h1>HTML5 Software Synthesizer</h1>
        <h2>By Jiri Krewinkel</h2>
        <p>Made as a portfolio piece to showcase my front-end and Javascript skills, this widget uses the HTML5 Web Audio API. No external libraries were used. You can view the source code on <a href="http://github.com/jkrewinkel">my Github profile</a>.</p>
    </header>

    <!-- Synth -->
    <main role="main">
        <section id="oscillators">

            <!-- Oscillator 1 -->
            <div id="osc1">
                <div class="select-container">
                    <label>Waveform</label>
                    <select data-componentParent="osc[0]" class="waveformSelect">
                        <option selected="selected">sine</option>
                        <option>square</option>
                        <option>sawtooth</option>
                        <option>triangle</option>
                    </select>
                </div>

                <div class="dragInput-container">
                    <label>Pitch</label>
                    <input class="dragInput" type="text" data-component="dragInput" data-componentParent="osc[0]" data-componentControl="pitch" value="0" data-minVal="-12" data-maxVal="12" />
                </div>

                <div class="dragInput-container">
                    <label>Voices</label>
                    <input class="dragInput" type="text" data-component="dragInput" data-componentParent="osc[0]"  data-componentControl="voices" value="1" data-minVal="1" data-maxVal="10" />
                </div>

                <div class="knob-container">
                    <label>Detune</label>
                    <button class="knob" data-component="knob" data-componentParent="osc[0]" data-value="0" data-componentControl="detune">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Level</label>
                    <button class="knob" data-component="knob" data-componentParent="osc[0]" data-componentControl="level" data-value="250">
                        <br />
                    </button>
                </div>
            </div>
            <!-- End of Oscillator 1 -->

            <!-- Oscillator 2 -->
            <div id="osc2">
                <div class="select-container">
                    <label>Waveform</label>
                    <select data-componentParent="osc[1]" class="waveformSelect">
                        <option selected="selected">sine</option>
                        <option>square</option>
                        <option>sawtooth</option>
                        <option>triangle</option>
                    </select>
                </div>

                <div class="dragInput-container">
                    <label>Pitch</label>
                    <input class="dragInput" type="text" data-component="dragInput" data-componentParent="osc[1]" data-componentControl="pitch" value="0" data-minVal="-12" data-maxVal="12" />
                </div>

                <div class="dragInput-container">
                    <label>Voices</label>
                    <input class="dragInput" type="text" data-component="dragInput" data-componentParent="osc[1]"  data-componentControl="voices" value="1" data-minVal="1" data-maxVal="10" />
                </div>

                <div class="knob-container">
                    <label>Detune</label>
                    <button class="knob" data-component="knob" data-componentParent="osc[1]" data-value="0" data-componentControl="detune">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Level</label>
                    <button class="knob" data-component="knob" data-componentParent="osc[1]" data-componentControl="level" data-value="0">
                        <br />
                    </button>
                </div>
            </div>
            <!-- End of Oscillator 2 -->

        </section>
        <!-- End of Oscillators -->

        <!-- ADSR -->
        <section id="adsr">
            <svg id="adsrGraphic" height="200" width="100%" shape-rendering="geometricPrecision">
                <path stroke="#000" stroke-width="2" fill="none"></path>
            </svg>
            <div id="adsrControls">

                <div class="knob-container">
                    <label>Attack</label>
                    <button class="knob" data-component="knob" data-componentParent="adsr" data-componentControl="attack" data-value="100">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Decay</label>
                    <button class="knob" data-component="knob" data-componentParent="adsr" data-componentControl="decay" data-value="50">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Sustain</label>
                    <button class="knob" data-component="knob" data-componentParent="adsr" data-componentControl="sustain" data-value="125">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Release</label>
                    <button class="knob" data-component="knob" data-componentParent="adsr" data-componentControl="release" data-value="125">
                        <br />
                    </button>
                </div>

            </div>
        </section>
        <!-- End of ADSR -->

        <!-- Filter -->
        <section id="filter">

            <svg id="filterGraphic" width="200" height="200" shape-rendering="geometricPrecision">
                <path stroke="#000" stroke-width="2" fill="none"></path>
            </svg>

            <div id="filterControls">

                <div class="select-container">
                    <label>Type</label>
                    <select data-componentParent="filter" class="filterTypeSelect">
                        <option selected="selected">highpass</option>
                        <option>lowpass</option>
                    </select>
                </div>

                <div class="knob-container">
                    <label>Cutoff</label>
                    <button class="knob" data-component="knob" data-componentParent="filter" data-componentControl="cutoff" data-value="100">
                        <br />
                    </button>
                </div>

                <div class="knob-container">
                    <label>Res</label>
                    <button class="knob" data-component="knob" data-componentParent="filter" data-componentControl="resonance" data-value="100">
                        <br />
                    </button>
                </div>

            </div>
        </section>
        <!-- End of Filter -->

        <!-- Keyboard -->
        <section id="input">
            <div class="shadow"></div>
            <ul id="keyboard">
                <script type="text/javascript">

                    let keys = ['f', 'f#', 'g', 'g#', 'a', 'a#', 'b', 'c', 'c#', 'd', 'd#', 'e'];
                    let halfSteps = -16;
                    for (let i = 1; i < 3; i++ ){
                        for (let key of keys ){
                            document.write('<li data-key="'+ key + '" data-half="' + halfSteps + '"><span>'+ key +'</span></li>');
                            halfSteps++;
                        }
                    }

                </script>
            </ul>
            <div id="octave-ctrl">
                Octave
                <i class="icon-chevron-left" data-ctrl="octave-left" data-tt="Shift the keyboard an octave to the left, playing lower notes."></i>
                <i class="icon-chevron-right" data-ctrl="octave-right" data-tt="Shift the keyboard an octave to the right, playing higher notes"></i>
            </div>
        </section>
        <!-- End of Keyboard -->

    </main>
    <!-- End Synth -->

</div>

<script src="build/build.js"></script>

</body>
</html>